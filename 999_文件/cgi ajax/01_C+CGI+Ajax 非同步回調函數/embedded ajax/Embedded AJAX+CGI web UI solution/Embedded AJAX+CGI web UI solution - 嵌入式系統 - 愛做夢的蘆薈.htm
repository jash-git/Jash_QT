<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0048)http://daydreamer.idv.tw/rewrite.php/read-4.html -->
<html xmlns="http://www.w3.org/1999/xhtml" lang="UTF-8"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta http-equiv="Content-Language" content="UTF-8">
<meta name="robots" content="all">
<meta name="author" content="jemicheng@gmail.com">
<meta name="Copyright" content="CopyRight 2006 F2Blog.com All Rights Reserved.">
<meta name="keywords" content="f2blog,phpblog,blog,php,asp,designing,with,web,standards,xhtml,css,graphic,design,layout,usability,ccessibility,w3c,w3,w3cn,PuterJam,Harry,Korsen,Joesen,Terry,天上的骆驼,蚁鹰,一只耳,天上的駱駝,蚁鹰,一隻耳,,embedded">
<meta name="description" content="愛做夢的蘆薈 - Day Dreamer&#39;s Blog">
<title>Embedded AJAX+CGI web UI solution - 嵌入式系統 - 愛做夢的蘆薈</title>
<link rel="alternate" type="application/rss+xml" href="http://daydreamer.idv.tw/rss.php?cateID=2" title="愛做夢的蘆薈 - 嵌入式系統(Rss2)">
<link rel="alternate" type="application/atom+xml" href="http://daydreamer.idv.tw/atom.php?cateID=2" title="愛做夢的蘆薈 - 嵌入式系統(Atom)">
<!--<base href="http://daydreamer.idv.tw/">--><base href="."><link rel="stylesheet" rev="stylesheet" href="./Embedded AJAX+CGI web UI solution - 嵌入式系統 - 愛做夢的蘆薈_files/global.css" type="text/css" media="all"><!--全局样式表-->
<link rel="stylesheet" rev="stylesheet" href="./Embedded AJAX+CGI web UI solution - 嵌入式系統 - 愛做夢的蘆薈_files/layout.css" type="text/css" media="all"><!--层次样式表-->
<link rel="stylesheet" rev="stylesheet" href="./Embedded AJAX+CGI web UI solution - 嵌入式系統 - 愛做夢的蘆薈_files/typography.css" type="text/css" media="all"><!--局部样式表-->
<link rel="stylesheet" rev="stylesheet" href="./Embedded AJAX+CGI web UI solution - 嵌入式系統 - 愛做夢的蘆薈_files/link.css" type="text/css" media="all"><!--超链接样式表-->
<link rel="stylesheet" rev="stylesheet" href="./Embedded AJAX+CGI web UI solution - 嵌入式系統 - 愛做夢的蘆薈_files/f2blog.css" type="text/css" media="all"><!--F2blog特有CSS-->
<link rel="stylesheet" rev="stylesheet" href="./Embedded AJAX+CGI web UI solution - 嵌入式系統 - 愛做夢的蘆薈_files/common.css" type="text/css" media="all"><!--F2blog共用CSS-->
<link rel="stylesheet" rev="stylesheet" href="./Embedded AJAX+CGI web UI solution - 嵌入式系統 - 愛做夢的蘆薈_files/editor.css" type="text/css" media="all"><!--UBB样式-->
<link rel="icon" href="http://daydreamer.idv.tw/attachments/8354738192.png" type="image/x-icon">
<link rel="shortcut icon" href="http://daydreamer.idv.tw/attachments/8354738192.png" type="image/x-icon">
<script type="text/javascript" src="./Embedded AJAX+CGI web UI solution - 嵌入式系統 - 愛做夢的蘆薈_files/common.js.php"></script>
<script type="text/javascript" src="./Embedded AJAX+CGI web UI solution - 嵌入式系統 - 愛做夢的蘆薈_files/f2blog_ajax.js"></script><link rel="stylesheet" href="http://daydreamer.idv.tw/plugins/CoolCode/coolcode.css">
<script type="text/javascript" src="./Embedded AJAX+CGI web UI solution - 嵌入式系統 - 愛做夢的蘆薈_files/coolcode.js"></script>
<script type="text/javascript" src="./Embedded AJAX+CGI web UI solution - 嵌入式系統 - 愛做夢的蘆薈_files/phprpc_client.js"></script>
<script type="text/javascript" src="./Embedded AJAX+CGI web UI solution - 嵌入式系統 - 愛做夢的蘆薈_files/innerhtml.js"></script>
<script type="text/javascript" src="./Embedded AJAX+CGI web UI solution - 嵌入式系統 - 愛做夢的蘆薈_files/pagepost.js.php"></script>
<link rel="stylesheet" href="http://daydreamer.idv.tw/plugins/pagepost/pagepost.css">
<script type="text/javascript" src="./Embedded AJAX+CGI web UI solution - 嵌入式系統 - 愛做夢的蘆薈_files/UBBCode_Gecko.js"></script><style type="text/css">.gscb_a{display:inline-block;font:27px/13px arial,sans-serif}.gsst_a .gscb_a{color:#a1b9ed;cursor:pointer}.gsst_a:hover .gscb_a,.gsst_a:focus .gscb_a{color:#36c}.gsst_a{display:inline-block}.gsst_a{cursor:pointer;padding:0 4px}.gsst_a:hover{text-decoration:none!important}.gsst_b{font-size:16px;padding:0 2px;position:relative;user-select:none;-webkit-user-select:none;white-space:nowrap}.gsst_e{opacity:0.55;}.gsst_a:hover .gsst_e,.gsst_a:focus .gsst_e{opacity:0.72;}.gsst_a:active .gsst_e{opacity:1;}.gsst_f{background:white;text-align:left}.gsst_g{background-color:white;border:1px solid #ccc;border-top-color:#d9d9d9;box-shadow:0 2px 4px rgba(0,0,0,0.2);-webkit-box-shadow:0 2px 4px rgba(0,0,0,0.2);margin:-1px -3px;padding:0 6px}.gsst_h{background-color:white;height:1px;margin-bottom:-1px;position:relative;top:-1px}.gsib_a{width:100%;padding:4px 6px 0}.gsib_a,.gsib_b{vertical-align:top}.gssb_c{border:0;position:absolute;z-index:989}.gssb_e{border:1px solid #ccc;border-top-color:#d9d9d9;box-shadow:0 2px 4px rgba(0,0,0,0.2);-webkit-box-shadow:0 2px 4px rgba(0,0,0,0.2);cursor:default}.gssb_f{visibility:hidden;white-space:nowrap}.gssb_k{border:0;display:block;position:absolute;top:0;z-index:988}.gsdd_a{border:none!important}.gscsep_a{display:none}.gsq_a{padding:0}.gssb_a{padding:0 7px}.gssb_a,.gssb_a td{white-space:nowrap;overflow:hidden;line-height:22px}#gssb_b{font-size:11px;color:#36c;text-decoration:none}#gssb_b:hover{font-size:11px;color:#36c;text-decoration:underline}.gssb_g{text-align:center;padding:8px 0 7px;position:relative}.gssb_h{font-size:15px;height:28px;margin:0.2em;-webkit-appearance:button}.gssb_i{background:#eee}.gss_ifl{visibility:hidden;padding-left:5px}.gssb_i .gss_ifl{visibility:visible}a.gssb_j{font-size:13px;color:#36c;text-decoration:none;line-height:100%}a.gssb_j:hover{text-decoration:underline}.gssb_l{height:1px;background-color:#e5e5e5}.gssb_m{color:#000;background:#fff}.gsfe_a{border:1px solid #b9b9b9;border-top-color:#a0a0a0;box-shadow:inset 0px 1px 2px rgba(0,0,0,0.1);-moz-box-shadow:inset 0px 1px 2px rgba(0,0,0,0.1);-webkit-box-shadow:inset 0px 1px 2px rgba(0,0,0,0.1);}.gsfe_b{border:1px solid #4d90fe;outline:none;box-shadow:inset 0px 1px 2px rgba(0,0,0,0.3);-moz-box-shadow:inset 0px 1px 2px rgba(0,0,0,0.3);-webkit-box-shadow:inset 0px 1px 2px rgba(0,0,0,0.3);}.gssb_a{padding:0 7px}.gssb_e{border:0}.gssb_l{margin:5px 0}.gssb_c .gsc-completion-container{position:static}.gssb_c{z-index:5000}.gsc-completion-container table{background:transparent;font-size:inherit;font-family:inherit}.gssb_c > tbody > tr,.gssb_c > tbody > tr > td,.gssb_d,.gssb_d > tbody > tr,.gssb_d > tbody > tr > td,.gssb_e,.gssb_e > tbody > tr,.gssb_e > tbody > tr > td{padding:0;margin:0;border:0}.gssb_a table,.gssb_a table tr,.gssb_a table tr td{padding:0;margin:0;border:0}</style></head>
<body>

<div id="container">
  <!--顶部-->
  <div id="header">
    <div id="blogname">
      愛做夢的蘆薈      <div id="blogTitle">
        Day Dreamer's Blog      </div>
    </div>
    <!--顶部菜单-->
    <div id="menu">
      <div id="Left"></div>
      <div id="Right"></div>
      <ul>
		<li class="menuL"></li>
		<li><a class="menuA" id="home" title="首頁" href="http://daydreamer.idv.tw/index.php">首頁</a></li> 
<li><a class="menuA" id="tags" title="標籤" href="http://daydreamer.idv.tw/rewrite.php/tags.html">標籤</a></li> 
<li><a class="menuA" id="guestbook" title="留言板" href="http://daydreamer.idv.tw/rewrite.php/guestbook.html">留言板</a></li> 
<li><a class="menuA" id="links" title="連結" href="http://daydreamer.idv.tw/rewrite.php/links.html">連結</a></li> 
<li><a class="menuA" id="archives" title="歸檔" href="http://daydreamer.idv.tw/rewrite.php/archives.html">歸檔</a></li> 
<li><a class="menuA" id="admin" title="管理" href="http://daydreamer.idv.tw/admin/index.php">管理</a></li> 
<li><a class="menuA" id="post" title="發表" href="http://daydreamer.idv.tw/admin/logs.php?action=add&edittype=front">發表</a></li> 
<li><a class="menuA" id="rss" title="RSS" href="http://daydreamer.idv.tw/rss.php">RSS</a></li> 
        
        <li class="menuR"></li>
      </ul>
    </div>
  </div>  <!--内容-->
  <div id="Tbody"> 
  	<!--正文-->
    <div id="mainContent">
      <div id="innermainContent">
        <div id="mainContent-topimg"></div>
                    <!--主体部分-->
          <div class="content-width"><a name="body" accesskey="B" href="http://daydreamer.idv.tw/#body"></a>
	<div class="pageContent">
	  <div style="float:right;"> 
		<a href="http://daydreamer.idv.tw/rss.php?cateID=2" target="_blank" title="訂閱所有嵌入式系統的網誌"><img border="0" src="./Embedded AJAX+CGI web UI solution - 嵌入式系統 - 愛做夢的蘆薈_files/rss.png" alt="訂閱所有嵌入式系統的網誌" style="margin-bottom:-1px" align="absMiddle"> 訂閱</a>
		 | <a href="http://daydreamer.idv.tw/rewrite.php/read-3.html" title="上一篇網誌: 1st JavaScript Editor Pro 3.8 memory patch for IntelliSense"><img border="0" src="./Embedded AJAX+CGI web UI solution - 嵌入式系統 - 愛做夢的蘆薈_files/Cprev.gif" alt="上一篇">上一篇</a> | 
<a href="javascript:history.back(1)" title="返回"><img border="0" src="./Embedded AJAX+CGI web UI solution - 嵌入式系統 - 愛做夢的蘆薈_files/arrow_left1.gif" alt="返回" align="absMiddle"> 返回</a> | 
<a href="http://daydreamer.idv.tw/rewrite.php/read-5.html" title="下一篇網誌: Porting U-BOOT for NAND booting in 2 days"><img border="0" src="./Embedded AJAX+CGI web UI solution - 嵌入式系統 - 愛做夢的蘆薈_files/Cnext.gif" alt="下一篇">下一篇</a> 
	  </div>

	  <img src="./Embedded AJAX+CGI web UI solution - 嵌入式系統 - 愛做夢的蘆薈_files/20.gif" style="margin:0px 2px -4px 0px" alt="">
	  <strong><a href="http://daydreamer.idv.tw/rewrite.php/category-2.html" title="查看嵌入式系統的網誌">嵌入式系統</a></strong>
	</div>

	<div class="Content">
	  <div class="Content-top">
		<div class="ContentLeft"></div>
		<div class="ContentRight"></div>
		<table style="width: 100%">  
     <tbody><tr> 
     <td>
        <div style="margin:0px 2px -4px 0px;" alt="" class="CateIconSP"><div class="DateYM">05</div><div class="DateDay">29</div></div>
      </td>  
      <td>  
       <h1 class="ContentTitle"><strong>Embedded AJAX+CGI web UI solution</strong></h1>  
       <h2 class="ContentAuthor">作者: Joey&nbsp;&nbsp;日期: 2008-05-29 14:34</h2>  
     </td>  
     
     </tr>  
    </tbody></table>  
	  </div>
	  <div class="Content-Info">
		<div class="InfoOther">
			字體大小: <a href="javascript:SetFont('logcontent_4','12px')">小</a> <a href="javascript:SetFont('logcontent_4','14px')">中</a> <a href="javascript:SetFont('logcontent_4','16px')">大</a>
		</div>
		<div class="InfoAuthor">
						<img src="./Embedded AJAX+CGI web UI solution - 嵌入式系統 - 愛做夢的蘆薈_files/hn2_sunny.gif" style="margin:0px 2px -6px 0px" alt=""><img src="./Embedded AJAX+CGI web UI solution - 嵌入式系統 - 愛做夢的蘆薈_files/hn2_t_sunny.gif" alt="">
			 
		</div>
	  </div>

	  <div class="Content-body" id="logcontent_4" style="word-break:break-all; table-layout: fixed;">
		<font size="2">最近抓了一些網路設備的open source來trace,發現有些網路設備的web UI有用到AJAX,也就是在他網頁原始碼可以很清楚看到onreadystatechange所指到的回呼函式,小弟在trace完大部份的code以後,簡單整理如下<br><br><span lang="EN-US" style="FONT-WEIGHT: bold; FONT-SIZE: 12pt; FONT-FAMILY: &quot;Times New Roman&quot;">CGI </span></font><font size="2"><span style="FONT-SIZE: 12pt; FONT-FAMILY: 新細明體"><span style="FONT-WEIGHT: bold">原理解說</span><br><br><img alt="" src="./Embedded AJAX+CGI web UI solution - 嵌入式系統 - 愛做夢的蘆薈_files/gui.jpg"><br><br></span><span lang="EN-US" style="FONT-SIZE: 12pt; FONT-FAMILY: &quot;Times New Roman&quot;">CGI</span><span style="FONT-SIZE: 12pt; FONT-FAMILY: 新細明體">為一通訊轉換的界面供</span><span lang="EN-US" style="FONT-SIZE: 12pt; FONT-FAMILY: &quot;Times New Roman&quot;">Client</span><span style="FONT-SIZE: 12pt; FONT-FAMILY: 新細明體">與</span><span lang="EN-US" style="FONT-SIZE: 12pt; FONT-FAMILY: &quot;Times New Roman&quot;">Server</span><span style="FONT-SIZE: 12pt; FONT-FAMILY: 新細明體">交換它們的資料流</span><span lang="EN-US" style="FONT-SIZE: 12pt; FONT-FAMILY: &quot;Times New Roman&quot;">,client</span><span style="FONT-SIZE: 12pt; FONT-FAMILY: 新細明體">的資料</span><span lang="EN-US" style="FONT-SIZE: 12pt; FONT-FAMILY: &quot;Times New Roman&quot;">(</span><span style="FONT-SIZE: 12pt; FONT-FAMILY: 新細明體">如</span><span lang="EN-US" style="FONT-SIZE: 12pt; FONT-FAMILY: &quot;Times New Roman&quot;">POST</span><span style="FONT-SIZE: 12pt; FONT-FAMILY: 新細明體">的</span><span lang="EN-US" style="FONT-SIZE: 12pt; FONT-FAMILY: &quot;Times New Roman&quot;">DATA,</span><span style="FONT-SIZE: 12pt; FONT-FAMILY: 新細明體">或</span><span lang="EN-US" style="FONT-SIZE: 12pt; FONT-FAMILY: &quot;Times New Roman&quot;">QUERY STRING)</span><span style="FONT-SIZE: 12pt; FONT-FAMILY: 新細明體">進來時</span><span lang="EN-US" style="FONT-SIZE: 12pt; FONT-FAMILY: &quot;Times New Roman&quot;">,</span><span style="FONT-SIZE: 12pt; FONT-FAMILY: 新細明體">會被</span><span lang="EN-US" style="FONT-SIZE: 12pt; FONT-FAMILY: &quot;Times New Roman&quot;">CGI</span><span style="FONT-SIZE: 12pt; FONT-FAMILY: 新細明體">轉換成</span><span lang="EN-US" style="FONT-SIZE: 12pt; FONT-FAMILY: &quot;Times New Roman&quot;">STREAM</span><span style="FONT-SIZE: 12pt; FONT-FAMILY: 新細明體">型態的資料並送到</span><span lang="EN-US" style="FONT-SIZE: 12pt; FONT-FAMILY: &quot;Times New Roman&quot;">STDIN</span><span style="FONT-SIZE: 12pt; FONT-FAMILY: 新細明體">供</span><span lang="EN-US" style="FONT-SIZE: 12pt; FONT-FAMILY: &quot;Times New Roman&quot;">SERVER</span><span style="FONT-SIZE: 12pt; FONT-FAMILY: 新細明體">讀取</span><span lang="EN-US" style="FONT-SIZE: 12pt; FONT-FAMILY: &quot;Times New Roman&quot;">,</span><span style="FONT-SIZE: 12pt; FONT-FAMILY: 新細明體">同樣的</span><span lang="EN-US" style="FONT-SIZE: 12pt; FONT-FAMILY: &quot;Times New Roman&quot;">,Server</span><span style="FONT-SIZE: 12pt; FONT-FAMILY: 新細明體">寫在</span><span lang="EN-US" style="FONT-SIZE: 12pt; FONT-FAMILY: &quot;Times New Roman&quot;">stdout</span><span style="FONT-SIZE: 12pt; FONT-FAMILY: 新細明體">的資料同樣會被</span><span lang="EN-US" style="FONT-SIZE: 12pt; FONT-FAMILY: &quot;Times New Roman&quot;">CGI</span><span style="FONT-SIZE: 12pt; FONT-FAMILY: 新細明體">轉換成資料</span><span lang="EN-US" style="FONT-SIZE: 12pt; FONT-FAMILY: &quot;Times New Roman&quot;">(or </span><span style="FONT-SIZE: 12pt; FONT-FAMILY: 新細明體">封包</span><span lang="EN-US" style="FONT-SIZE: 12pt; FONT-FAMILY: &quot;Times New Roman&quot;">)</span><span style="FONT-SIZE: 12pt; FONT-FAMILY: 新細明體">的形態丟給</span><span lang="EN-US" style="FONT-SIZE: 12pt; FONT-FAMILY: &quot;Times New Roman&quot;">client</span></font><font size="2"><span style="FONT-SIZE: 12pt; FONT-FAMILY: 新細明體">讀取<br><!--more--><br></span><span lang="EN-US" style="FONT-WEIGHT: bold; FONT-SIZE: 12pt; FONT-FAMILY: &quot;Times New Roman&quot;">AJAX</span></font><font size="2"><span style="FONT-SIZE: 12pt; FONT-FAMILY: 新細明體"><span style="FONT-WEIGHT: bold">原理解說</span><br><br></span><span lang="EN-US" style="FONT-SIZE: 12pt; FONT-FAMILY: &quot;Times New Roman&quot;">AJAX</span><span style="FONT-SIZE: 12pt; FONT-FAMILY: 新細明體">在我觀念裡它實在很像</span><span lang="EN-US" style="FONT-SIZE: 12pt; FONT-FAMILY: &quot;Times New Roman&quot;">ISR(interrupt service routine),</span><span style="FONT-SIZE: 12pt; FONT-FAMILY: 新細明體">簡單的來說</span><span lang="EN-US" style="FONT-SIZE: 12pt; FONT-FAMILY: &quot;Times New Roman&quot;">,</span><span style="FONT-SIZE: 12pt; FONT-FAMILY: 新細明體">我的函式只要可以跟</span><span lang="EN-US" style="FONT-SIZE: 12pt; FONT-FAMILY: &quot;Times New Roman&quot;">kernel</span><span style="FONT-SIZE: 12pt; FONT-FAMILY: 新細明體">某個事件註冊</span><span lang="EN-US" style="FONT-SIZE: 12pt; FONT-FAMILY: &quot;Times New Roman&quot;">,</span><span style="FONT-SIZE: 12pt; FONT-FAMILY: 新細明體">那</span><span lang="EN-US" style="FONT-SIZE: 12pt; FONT-FAMILY: &quot;Times New Roman&quot;">kernel</span><span style="FONT-SIZE: 12pt; FONT-FAMILY: 新細明體">事件發生時</span><span lang="EN-US" style="FONT-SIZE: 12pt; FONT-FAMILY: &quot;Times New Roman&quot;">,</span><span style="FONT-SIZE: 12pt; FONT-FAMILY: 新細明體">會主動呼叫我的函式</span><span lang="EN-US" style="FONT-SIZE: 12pt; FONT-FAMILY: &quot;Times New Roman&quot;">,AJAX</span><span style="FONT-SIZE: 12pt; FONT-FAMILY: 新細明體">也是一樣</span><span lang="EN-US" style="FONT-SIZE: 12pt; FONT-FAMILY: &quot;Times New Roman&quot;">,</span><span style="FONT-SIZE: 12pt; FONT-FAMILY: 新細明體">當</span><span lang="EN-US" style="FONT-SIZE: 12pt; FONT-FAMILY: &quot;Times New Roman&quot;">client</span><span style="FONT-SIZE: 12pt; FONT-FAMILY: 新細明體">要求的資料送達了</span><span lang="EN-US" style="FONT-SIZE: 12pt; FONT-FAMILY: &quot;Times New Roman&quot;">,</span><span style="FONT-SIZE: 12pt; FONT-FAMILY: 新細明體">系統會主動呼叫</span><span lang="EN-US" style="FONT-SIZE: 12pt; FONT-FAMILY: &quot;Times New Roman&quot;">client</span><span style="FONT-SIZE: 12pt; FONT-FAMILY: 新細明體">端註冊的資料處理函式</span><span lang="EN-US" style="FONT-SIZE: 12pt; FONT-FAMILY: &quot;Times New Roman&quot;">,</span><span style="FONT-SIZE: 12pt; FONT-FAMILY: 新細明體">而不用我們人為在網頁上做</span><span lang="EN-US" style="FONT-SIZE: 12pt; FONT-FAMILY: &quot;Times New Roman&quot;">refresh</span></font><span style="FONT-SIZE: 12pt; FONT-FAMILY: 新細明體"><font size="2">的動作<br><br>Client端的web頁面重點解說<br><div class="hl-surround"><div class="hl-main"><span style="color: Gray;">&lt;</span><span style="color: Blue;">script</span><span style="color: Gray;">&gt;<br></span><span style="color: Blue;">var</span><span style="color: Gray;"> </span><span style="color: Blue;">myxml</span><span style="color: Gray;"><br></span><span style="color: Blue;">function</span><span style="color: Gray;"> </span><span style="color: Blue;">createXMLHttpRequest</span><span style="color: Olive;">()</span><span style="color: Gray;"> </span><span style="color: Olive;">{</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp;</span><span style="color: Blue;">var</span><span style="color: Gray;"> </span><span style="color: Blue;">xmlHttp</span><span style="color: Gray;">;<br>&nbsp;&nbsp; &nbsp;</span><span style="color: Green;">if</span><span style="color: Gray;"> </span><span style="color: Olive;">(</span><span style="color: Blue;">window</span><span style="color: Gray;">.</span><span style="color: Blue;">XMLHttpRequest</span><span style="color: Olive;">)</span><span style="color: Gray;"> </span><span style="color: Olive;">{</span><span style="color: Gray;"> </span><span style="color: #ffa500;">//if we can get XMLHttpRequest</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Blue;">xmlHttp</span><span style="color: Gray;"> = </span><span style="color: Green;">new</span><span style="color: Gray;"> </span><span style="color: Blue;">XMLHttpRequest</span><span style="color: Olive;">()</span><span style="color: Gray;">;&nbsp; </span><span style="color: #ffa500;">// Mozilla、Firefox、Safari</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp;</span><span style="color: Olive;">}</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp;</span><span style="color: Green;">else</span><span style="color: Gray;"> </span><span style="color: Green;">if</span><span style="color: Gray;"> </span><span style="color: Olive;">(</span><span style="color: Blue;">window</span><span style="color: Gray;">.</span><span style="color: Blue;">ActiveXObject</span><span style="color: Olive;">)</span><span style="color: Gray;"> </span><span style="color: Olive;">{</span><span style="color: Gray;"> </span><span style="color: #ffa500;">//if we can get ActiveXObject</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Blue;">xmlHttp</span><span style="color: Gray;"> = </span><span style="color: Green;">new</span><span style="color: Gray;"> </span><span style="color: Blue;">ActiveXObject</span><span style="color: Olive;">(</span><span style="color: #8b0000;">"</span><span style="color: Red;">Microsoft.XMLHTTP</span><span style="color: #8b0000;">"</span><span style="color: Olive;">)</span><span style="color: Gray;">; </span><span style="color: #ffa500;">// Internet Explorer</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp;</span><span style="color: Olive;">}</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp;</span><span style="color: Green;">return</span><span style="color: Gray;"> </span><span style="color: Blue;">xmlHttp</span><span style="color: Gray;"><br></span><span style="color: Olive;">}</span><span style="color: Gray;"><br>&nbsp;<br></span><span style="color: Blue;">function</span><span style="color: Gray;"> </span><span style="color: Blue;">handleGetStateChange</span><span style="color: Olive;">()</span><span style="color: Gray;"> </span><span style="color: Olive;">{</span><span style="color: Gray;"><br>&nbsp;&nbsp; </span><span style="color: Green;">if</span><span style="color: Gray;"> </span><span style="color: Olive;">(</span><span style="color: Blue;">myxml</span><span style="color: Gray;">.</span><span style="color: Blue;">readyState</span><span style="color: Gray;"> == </span><span style="color: Maroon;">4</span><span style="color: Olive;">)</span><span style="color: Gray;"> </span><span style="color: Olive;">{</span><span style="color: Gray;"> <br>&nbsp;&nbsp; &nbsp; </span><span style="color: Green;">if</span><span style="color: Gray;"> </span><span style="color: Olive;">(</span><span style="color: Blue;">myxml</span><span style="color: Gray;">.</span><span style="color: Blue;">status</span><span style="color: Gray;"> == </span><span style="color: Maroon;">200</span><span style="color: Olive;">)</span><span style="color: Gray;"> </span><span style="color: Olive;">{</span><span style="color: Gray;"> <br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: #ffa500;">//alert("Server Response" + myxml.responseText);</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp; &nbsp;</span><span style="color: Blue;">document</span><span style="color: Gray;">.</span><span style="color: Blue;">GetVal</span><span style="color: Gray;">.</span><span style="color: Blue;">t1</span><span style="color: Gray;">.</span><span style="color: Blue;">value</span><span style="color: Gray;">=</span><span style="color: Blue;">myxml</span><span style="color: Gray;">.</span><span style="color: Blue;">responseText</span><span style="color: Gray;">&nbsp; <br>&nbsp;&nbsp; &nbsp; </span><span style="color: Olive;">}</span><span style="color: Gray;"><br>&nbsp;&nbsp; </span><span style="color: Olive;">}</span><span style="color: Gray;"><br></span><span style="color: Olive;">}</span><span style="color: Gray;"><br></span><span style="color: Blue;">function</span><span style="color: Gray;"> </span><span style="color: Blue;">startGetRequest</span><span style="color: Olive;">()</span><span style="color: Gray;"> <br></span><span style="color: Olive;">{</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp;<br>&nbsp;&nbsp; &nbsp;</span><span style="color: Blue;">myxml</span><span style="color: Gray;">=</span><span style="color: Blue;">createXMLHttpRequest</span><span style="color: Olive;">()</span><span style="color: Gray;">; <br>&nbsp;&nbsp; &nbsp;</span><span style="color: Green;">if</span><span style="color: Gray;"> </span><span style="color: Olive;">(</span><span style="color: Gray;">!</span><span style="color: Blue;">myxml</span><span style="color: Olive;">)</span><span style="color: Gray;"> </span><span style="color: Blue;">alert</span><span style="color: Olive;">(</span><span style="color: #8b0000;">"</span><span style="color: Red;">ajax not supported</span><span style="color: #8b0000;">"</span><span style="color: Olive;">)</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp;</span><span style="color: Blue;">myxml</span><span style="color: Gray;">.</span><span style="color: Blue;">onreadystatechange</span><span style="color: Gray;"> = </span><span style="color: Blue;">handleGetStateChange</span><span style="color: Gray;">; <br>&nbsp;&nbsp; &nbsp;</span><span style="color: Blue;">myxml</span><span style="color: Gray;">.</span><span style="color: Blue;">open</span><span style="color: Olive;">(</span><span style="color: #8b0000;">"</span><span style="color: Red;">GET</span><span style="color: #8b0000;">"</span><span style="color: Gray;">, </span><span style="color: #8b0000;">"</span><span style="color: Red;">http://192.168.15.5/cgi-bin/cpe.cgi?freq&amp;username</span><span style="color: #8b0000;">"</span><span style="color: Gray;">,</span><span style="color: Green;">true</span><span style="color: Olive;">)</span><span style="color: Gray;">;&nbsp; <br>&nbsp;&nbsp; &nbsp;</span><span style="color: Blue;">myxml</span><span style="color: Gray;">.</span><span style="color: Blue;">send</span><span style="color: Olive;">(</span><span style="color: #8b0000;">""</span><span style="color: Olive;">)</span><span style="color: Gray;">;&nbsp; <br></span><span style="color: Olive;">}</span></div></div><br>當送出的button被按下時,此程式會送出GET指令,並把freq和username這兩個參數傳送給Server,並且註冊handleGetStateChange為回呼函式<br>Server端的CGI處理函式如下<br><div class="hl-surround"><div class="hl-main"><span style="color: Blue;">query_string</span><span style="color: Gray;">=</span><span style="color: Blue;">getenv</span><span style="color: Olive;">(</span><span style="color: #8b0000;">"</span><span style="color: Red;">QUERY_STRING</span><span style="color: #8b0000;">"</span><span style="color: Olive;">)</span><span style="color: Gray;">;<br>&nbsp;&nbsp; &nbsp;<br>&nbsp;&nbsp; &nbsp;</span><span style="color: Green;">if</span><span style="color: Gray;"> </span><span style="color: Olive;">(</span><span style="color: Blue;">qlen</span><span style="color: Gray;">!=</span><span style="color: Maroon;">0</span><span style="color: Olive;">)</span><span style="color: #ffa500;">//deal with method get </span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp;</span><span style="color: Olive;">{</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Blue;">fprintf</span><span style="color: Olive;">(</span><span style="color: Blue;">stdout</span><span style="color: Gray;">, </span><span style="color: #8b0000;">"</span><span style="color: Red;">Content-Type: text/html</span><span style="color: Navy;">\</span><span style="color: Red;">r</span><span style="color: Navy;">\</span><span style="color: Red;">n</span><span style="color: Navy;">\</span><span style="color: Red;">r</span><span style="color: Navy;">\</span><span style="color: Red;">n</span><span style="color: #8b0000;">"</span><span style="color: Olive;">)</span><span style="color: Gray;">;<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Green;">for</span><span style="color: Olive;">(</span><span style="color: Blue;">i</span><span style="color: Gray;">=</span><span style="color: Maroon;">0</span><span style="color: Gray;">;</span><span style="color: Blue;">qlen</span><span style="color: Gray;">&gt;</span><span style="color: Maroon;">0</span><span style="color: Gray;">; </span><span style="color: Blue;">i</span><span style="color: Gray;">++</span><span style="color: Olive;">)</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp;</span><span style="color: Olive;">{</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Blue;">inputs</span><span style="color: Olive;">[</span><span style="color: Blue;">i</span><span style="color: Olive;">]</span><span style="color: Gray;">.</span><span style="color: Blue;">val</span><span style="color: Gray;"> = </span><span style="color: Blue;">ReadString</span><span style="color: Olive;">(</span><span style="color: Blue;">query_string</span><span style="color: Gray;">,'&amp;',&amp;</span><span style="color: Blue;">qlen</span><span style="color: Olive;">)</span><span style="color: Gray;">;<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Blue;">repIndex</span><span style="color: Gray;">=</span><span style="color: Blue;">i</span><span style="color: Gray;">;<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Blue;">query_string</span><span style="color: Gray;">+=</span><span style="color: Blue;">strlen</span><span style="color: Olive;">(</span><span style="color: Blue;">inputs</span><span style="color: Olive;">[</span><span style="color: Blue;">i</span><span style="color: Olive;">]</span><span style="color: Gray;">.</span><span style="color: Blue;">val</span><span style="color: Olive;">)</span><span style="color: Gray;">+</span><span style="color: Maroon;">1</span><span style="color: Gray;">;<br>&nbsp;&nbsp; &nbsp;</span><span style="color: Olive;">}</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Green;">for</span><span style="color: Gray;"> </span><span style="color: Olive;">(</span><span style="color: Blue;">i</span><span style="color: Gray;">=</span><span style="color: Maroon;">0</span><span style="color: Gray;">;</span><span style="color: Blue;">i</span><span style="color: Gray;">&lt;=</span><span style="color: Blue;">repIndex</span><span style="color: Gray;">;</span><span style="color: Blue;">i</span><span style="color: Gray;">++</span><span style="color: Olive;">)</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Olive;">{</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Green;">if</span><span style="color: Gray;"> </span><span style="color: Olive;">(</span><span style="color: Blue;">strcmp</span><span style="color: Olive;">(</span><span style="color: Blue;">inputs</span><span style="color: Olive;">[</span><span style="color: Blue;">i</span><span style="color: Olive;">]</span><span style="color: Gray;">.</span><span style="color: Blue;">val</span><span style="color: Gray;">,</span><span style="color: #8b0000;">"</span><span style="color: Red;">freq</span><span style="color: #8b0000;">"</span><span style="color: Olive;">)</span><span style="color: Gray;">==</span><span style="color: Maroon;">0</span><span style="color: Olive;">)</span><span style="color: Gray;"> </span><span style="color: Blue;">fprintf</span><span style="color: Olive;">(</span><span style="color: Blue;">stdout</span><span style="color: Gray;">,</span><span style="color: #8b0000;">"</span><span style="color: Red;">%s=%s&amp;</span><span style="color: #8b0000;">"</span><span style="color: Gray;">,</span><span style="color: Blue;">inputs</span><span style="color: Olive;">[</span><span style="color: Blue;">i</span><span style="color: Olive;">]</span><span style="color: Gray;">.</span><span style="color: Blue;">val</span><span style="color: Gray;">,</span><span style="color: Blue;">freq</span><span style="color: Olive;">)</span><span style="color: Gray;">;<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Green;">if</span><span style="color: Gray;"> </span><span style="color: Olive;">(</span><span style="color: Blue;">strcmp</span><span style="color: Olive;">(</span><span style="color: Blue;">inputs</span><span style="color: Olive;">[</span><span style="color: Blue;">i</span><span style="color: Olive;">]</span><span style="color: Gray;">.</span><span style="color: Blue;">val</span><span style="color: Gray;">,</span><span style="color: #8b0000;">"</span><span style="color: Red;">username</span><span style="color: #8b0000;">"</span><span style="color: Olive;">)</span><span style="color: Gray;">==</span><span style="color: Maroon;">0</span><span style="color: Olive;">)</span><span style="color: Gray;"> </span><span style="color: Blue;">fprintf</span><span style="color: Olive;">(</span><span style="color: Blue;">stdout</span><span style="color: Gray;">,</span><span style="color: #8b0000;">"</span><span style="color: Red;">%s=%s&amp;</span><span style="color: #8b0000;">"</span><span style="color: Gray;">,</span><span style="color: Blue;">inputs</span><span style="color: Olive;">[</span><span style="color: Blue;">i</span><span style="color: Olive;">]</span><span style="color: Gray;">.</span><span style="color: Blue;">val</span><span style="color: Gray;">,</span><span style="color: Blue;">username</span><span style="color: Olive;">)</span><span style="color: Gray;">;<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Olive;">}</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Green;">return</span><span style="color: Gray;"> </span><span style="color: Maroon;">0</span><span style="color: Gray;">;<br>&nbsp;&nbsp; &nbsp;</span><span style="color: Olive;">}</span></div></div><br>Server端的cgi程式會去抓取query string並截取其內的值當做要查尋的value name<br><br>Client端web頁面完整的程式碼如下所示<br><div class="hl-surround"><div class="hl-main"><span style="color: Gray;">&lt;</span><span style="color: Blue;">html</span><span style="color: Gray;">&gt;<br>&nbsp;<br>&lt;</span><span style="color: Blue;">head</span><span style="color: Gray;">&gt;<br>&nbsp;<br>&lt;</span><span style="color: Blue;">title</span><span style="color: Gray;">&gt;&lt;/</span><span style="color: Blue;">title</span><span style="color: Gray;">&gt;<br>&lt;</span><span style="color: Blue;">script</span><span style="color: Gray;">&gt;<br></span><span style="color: Blue;">var</span><span style="color: Gray;"> </span><span style="color: Blue;">myxml</span><span style="color: Gray;"><br></span><span style="color: Blue;">function</span><span style="color: Gray;"> </span><span style="color: Blue;">createXMLHttpRequest</span><span style="color: Olive;">()</span><span style="color: Gray;"> </span><span style="color: Olive;">{</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp;</span><span style="color: Blue;">var</span><span style="color: Gray;"> </span><span style="color: Blue;">xmlHttp</span><span style="color: Gray;">;<br>&nbsp;&nbsp; &nbsp;</span><span style="color: Green;">if</span><span style="color: Gray;"> </span><span style="color: Olive;">(</span><span style="color: Blue;">window</span><span style="color: Gray;">.</span><span style="color: Blue;">XMLHttpRequest</span><span style="color: Olive;">)</span><span style="color: Gray;"> </span><span style="color: Olive;">{</span><span style="color: Gray;"> </span><span style="color: #ffa500;">//if we can get XMLHttpRequest</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Blue;">xmlHttp</span><span style="color: Gray;"> = </span><span style="color: Green;">new</span><span style="color: Gray;"> </span><span style="color: Blue;">XMLHttpRequest</span><span style="color: Olive;">()</span><span style="color: Gray;">;&nbsp; </span><span style="color: #ffa500;">// Mozilla、Firefox、Safari</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp;</span><span style="color: Olive;">}</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp;</span><span style="color: Green;">else</span><span style="color: Gray;"> </span><span style="color: Green;">if</span><span style="color: Gray;"> </span><span style="color: Olive;">(</span><span style="color: Blue;">window</span><span style="color: Gray;">.</span><span style="color: Blue;">ActiveXObject</span><span style="color: Olive;">)</span><span style="color: Gray;"> </span><span style="color: Olive;">{</span><span style="color: Gray;"> </span><span style="color: #ffa500;">//if we can get ActiveXObject</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Blue;">xmlHttp</span><span style="color: Gray;"> = </span><span style="color: Green;">new</span><span style="color: Gray;"> </span><span style="color: Blue;">ActiveXObject</span><span style="color: Olive;">(</span><span style="color: #8b0000;">"</span><span style="color: Red;">Microsoft.XMLHTTP</span><span style="color: #8b0000;">"</span><span style="color: Olive;">)</span><span style="color: Gray;">; </span><span style="color: #ffa500;">// Internet Explorer</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp;</span><span style="color: Olive;">}</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp;</span><span style="color: Green;">return</span><span style="color: Gray;"> </span><span style="color: Blue;">xmlHttp</span><span style="color: Gray;"><br></span><span style="color: Olive;">}</span><span style="color: Gray;"><br>&nbsp;<br></span><span style="color: Blue;">function</span><span style="color: Gray;"> </span><span style="color: Blue;">handleGetStateChange</span><span style="color: Olive;">()</span><span style="color: Gray;"> </span><span style="color: Olive;">{</span><span style="color: Gray;"><br>&nbsp;&nbsp; </span><span style="color: Green;">if</span><span style="color: Gray;"> </span><span style="color: Olive;">(</span><span style="color: Blue;">myxml</span><span style="color: Gray;">.</span><span style="color: Blue;">readyState</span><span style="color: Gray;"> == </span><span style="color: Maroon;">4</span><span style="color: Olive;">)</span><span style="color: Gray;"> </span><span style="color: Olive;">{</span><span style="color: Gray;"> <br>&nbsp;&nbsp; &nbsp; </span><span style="color: Green;">if</span><span style="color: Gray;"> </span><span style="color: Olive;">(</span><span style="color: Blue;">myxml</span><span style="color: Gray;">.</span><span style="color: Blue;">status</span><span style="color: Gray;"> == </span><span style="color: Maroon;">200</span><span style="color: Olive;">)</span><span style="color: Gray;"> </span><span style="color: Olive;">{</span><span style="color: Gray;"> <br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: #ffa500;">//alert("Server Response" + myxml.responseText);</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp; &nbsp;</span><span style="color: Blue;">document</span><span style="color: Gray;">.</span><span style="color: Blue;">GetVal</span><span style="color: Gray;">.</span><span style="color: Blue;">t1</span><span style="color: Gray;">.</span><span style="color: Blue;">value</span><span style="color: Gray;">=</span><span style="color: Blue;">myxml</span><span style="color: Gray;">.</span><span style="color: Blue;">responseText</span><span style="color: Gray;">&nbsp; <br>&nbsp;&nbsp; &nbsp; </span><span style="color: Olive;">}</span><span style="color: Gray;"><br>&nbsp;&nbsp; </span><span style="color: Olive;">}</span><span style="color: Gray;"><br></span><span style="color: Olive;">}</span><span style="color: Gray;"><br></span><span style="color: Blue;">function</span><span style="color: Gray;"> </span><span style="color: Blue;">handleSetStateChange</span><span style="color: Olive;">()</span><span style="color: Gray;"> </span><span style="color: Olive;">{</span><span style="color: Gray;"><br>&nbsp;&nbsp; </span><span style="color: Green;">if</span><span style="color: Gray;"> </span><span style="color: Olive;">(</span><span style="color: Blue;">myxml</span><span style="color: Gray;">.</span><span style="color: Blue;">readyState</span><span style="color: Gray;"> == </span><span style="color: Maroon;">4</span><span style="color: Olive;">)</span><span style="color: Gray;"> </span><span style="color: Olive;">{</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp; </span><span style="color: Green;">if</span><span style="color: Gray;"> </span><span style="color: Olive;">(</span><span style="color: Blue;">myxml</span><span style="color: Gray;">.</span><span style="color: Blue;">status</span><span style="color: Gray;"> == </span><span style="color: Maroon;">200</span><span style="color: Olive;">)</span><span style="color: Gray;"> </span><span style="color: Olive;">{</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: #ffa500;">// alert("Server Response" + myxml.responseText);</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Blue;">document</span><span style="color: Gray;">.</span><span style="color: Blue;">SetVal</span><span style="color: Gray;">.</span><span style="color: Blue;">t2</span><span style="color: Gray;">.</span><span style="color: Blue;">value</span><span style="color: Gray;">=</span><span style="color: Blue;">myxml</span><span style="color: Gray;">.</span><span style="color: Blue;">responseText</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp; </span><span style="color: Olive;">}</span><span style="color: Gray;"><br>&nbsp;&nbsp; </span><span style="color: Olive;">}</span><span style="color: Gray;"><br></span><span style="color: Olive;">}</span><span style="color: Gray;"><br>&nbsp;<br></span><span style="color: Blue;">function</span><span style="color: Gray;"> </span><span style="color: Blue;">startGetRequest</span><span style="color: Olive;">()</span><span style="color: Gray;"> <br></span><span style="color: Olive;">{</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp;<br>&nbsp;&nbsp; &nbsp;</span><span style="color: Blue;">myxml</span><span style="color: Gray;">=</span><span style="color: Blue;">createXMLHttpRequest</span><span style="color: Olive;">()</span><span style="color: Gray;">; <br>&nbsp;&nbsp; &nbsp;</span><span style="color: Green;">if</span><span style="color: Gray;"> </span><span style="color: Olive;">(</span><span style="color: Gray;">!</span><span style="color: Blue;">myxml</span><span style="color: Olive;">)</span><span style="color: Gray;"> </span><span style="color: Blue;">alert</span><span style="color: Olive;">(</span><span style="color: #8b0000;">"</span><span style="color: Red;">ajax not supported</span><span style="color: #8b0000;">"</span><span style="color: Olive;">)</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp;</span><span style="color: Blue;">myxml</span><span style="color: Gray;">.</span><span style="color: Blue;">onreadystatechange</span><span style="color: Gray;"> = </span><span style="color: Blue;">handleGetStateChange</span><span style="color: Gray;">; <br>&nbsp;&nbsp; &nbsp;</span><span style="color: Blue;">myxml</span><span style="color: Gray;">.</span><span style="color: Blue;">open</span><span style="color: Olive;">(</span><span style="color: #8b0000;">"</span><span style="color: Red;">GET</span><span style="color: #8b0000;">"</span><span style="color: Gray;">, </span><span style="color: #8b0000;">"</span><span style="color: Red;">http://192.168.15.5/cgi-bin/cpe.cgi?freq&amp;username</span><span style="color: #8b0000;">"</span><span style="color: Gray;">,</span><span style="color: Green;">true</span><span style="color: Olive;">)</span><span style="color: Gray;">;&nbsp; <br>&nbsp;&nbsp; &nbsp;</span><span style="color: Blue;">myxml</span><span style="color: Gray;">.</span><span style="color: Blue;">send</span><span style="color: Olive;">(</span><span style="color: #8b0000;">""</span><span style="color: Olive;">)</span><span style="color: Gray;">;&nbsp; <br></span><span style="color: Olive;">}</span><span style="color: Gray;"><br></span><span style="color: Blue;">function</span><span style="color: Gray;"> </span><span style="color: Blue;">startSetRequest</span><span style="color: Olive;">()</span><span style="color: Gray;"><br></span><span style="color: Olive;">{</span><span style="color: Gray;"><br>&nbsp;<br>&nbsp;&nbsp; &nbsp;</span><span style="color: Blue;">myxml</span><span style="color: Gray;">=</span><span style="color: Blue;">createXMLHttpRequest</span><span style="color: Olive;">()</span><span style="color: Gray;">;<br>&nbsp;&nbsp; &nbsp;</span><span style="color: Green;">if</span><span style="color: Gray;"> </span><span style="color: Olive;">(</span><span style="color: Gray;">!</span><span style="color: Blue;">myxml</span><span style="color: Olive;">)</span><span style="color: Gray;"> </span><span style="color: Blue;">alert</span><span style="color: Olive;">(</span><span style="color: #8b0000;">"</span><span style="color: Red;">ajax not supported</span><span style="color: #8b0000;">"</span><span style="color: Olive;">)</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp;</span><span style="color: Blue;">myxml</span><span style="color: Gray;">.</span><span style="color: Blue;">onreadystatechange</span><span style="color: Gray;"> = </span><span style="color: Blue;">handleSetStateChange</span><span style="color: Gray;">;<br>&nbsp;&nbsp; &nbsp;</span><span style="color: Blue;">myxml</span><span style="color: Gray;">.</span><span style="color: Blue;">open</span><span style="color: Olive;">(</span><span style="color: #8b0000;">"</span><span style="color: Red;">POST</span><span style="color: #8b0000;">"</span><span style="color: Gray;">, </span><span style="color: #8b0000;">"</span><span style="color: Red;">http://192.168.15.5/cgi-bin/cpe.cgi</span><span style="color: #8b0000;">"</span><span style="color: Gray;">,</span><span style="color: Green;">true</span><span style="color: Olive;">)</span><span style="color: Gray;">;<br>&nbsp;&nbsp; &nbsp;</span><span style="color: Blue;">myxml</span><span style="color: Gray;">.</span><span style="color: Blue;">send</span><span style="color: Olive;">(</span><span style="color: #8b0000;">"</span><span style="color: Red;">freq=123&amp;username=jim</span><span style="color: #8b0000;">"</span><span style="color: Olive;">)</span><span style="color: Gray;">;<br></span><span style="color: Olive;">}</span><span style="color: Gray;"><br>&nbsp;<br>&lt;/</span><span style="color: Blue;">script</span><span style="color: Gray;">&gt;<br>&lt;/</span><span style="color: Blue;">head</span><span style="color: Gray;">&gt;<br>&nbsp;<br>&lt;</span><span style="color: Blue;">body</span><span style="color: Gray;">&gt;<br>&lt;</span><span style="color: Blue;">form</span><span style="color: Gray;"> </span><span style="color: Blue;">name</span><span style="color: Gray;">=</span><span style="color: #8b0000;">"</span><span style="color: Red;">GetVal</span><span style="color: #8b0000;">"</span><span style="color: Gray;">&gt;<br>&lt;</span><span style="color: Blue;">INPUT</span><span style="color: Gray;"> </span><span style="color: Blue;">type</span><span style="color: Gray;">=</span><span style="color: #8b0000;">"</span><span style="color: Red;">button</span><span style="color: #8b0000;">"</span><span style="color: Gray;"> </span><span style="color: Blue;">value</span><span style="color: Gray;">=</span><span style="color: #8b0000;">"</span><span style="color: Red;">Get Value</span><span style="color: #8b0000;">"</span><span style="color: Gray;"> </span><span style="color: Blue;">onclick</span><span style="color: Gray;">=</span><span style="color: #8b0000;">"</span><span style="color: Red;">startGetRequest()</span><span style="color: #8b0000;">"</span><span style="color: Gray;">&gt; <br>&lt;</span><span style="color: Blue;">INPUT</span><span style="color: Gray;"> </span><span style="color: Blue;">type</span><span style="color: Gray;">=</span><span style="color: #8b0000;">"</span><span style="color: Red;">text</span><span style="color: #8b0000;">"</span><span style="color: Gray;"> </span><span style="color: Blue;">name</span><span style="color: Gray;">=</span><span style="color: #8b0000;">"</span><span style="color: Red;">t1</span><span style="color: #8b0000;">"</span><span style="color: Gray;">&gt;<br>&lt;/</span><span style="color: Blue;">form</span><span style="color: Gray;">&gt;<br>&lt;</span><span style="color: Blue;">form</span><span style="color: Gray;"> </span><span style="color: Blue;">name</span><span style="color: Gray;">=</span><span style="color: #8b0000;">"</span><span style="color: Red;">SetVal</span><span style="color: #8b0000;">"</span><span style="color: Gray;">&gt;<br>&lt;</span><span style="color: Blue;">INPUT</span><span style="color: Gray;"> </span><span style="color: Blue;">type</span><span style="color: Gray;">=</span><span style="color: #8b0000;">"</span><span style="color: Red;">button</span><span style="color: #8b0000;">"</span><span style="color: Gray;"> </span><span style="color: Blue;">value</span><span style="color: Gray;">=</span><span style="color: #8b0000;">"</span><span style="color: Red;">Set Value</span><span style="color: #8b0000;">"</span><span style="color: Gray;"> </span><span style="color: Blue;">onclick</span><span style="color: Gray;">=</span><span style="color: #8b0000;">"</span><span style="color: Red;">startSetRequest()</span><span style="color: #8b0000;">"</span><span style="color: Gray;">&gt;<br>&lt;</span><span style="color: Blue;">INPUT</span><span style="color: Gray;"> </span><span style="color: Blue;">type</span><span style="color: Gray;">=</span><span style="color: #8b0000;">"</span><span style="color: Red;">text</span><span style="color: #8b0000;">"</span><span style="color: Gray;"> </span><span style="color: Blue;">name</span><span style="color: Gray;">=</span><span style="color: #8b0000;">"</span><span style="color: Red;">t2</span><span style="color: #8b0000;">"</span><span style="color: Gray;">&gt;<br>&lt;/</span><span style="color: Blue;">form</span><span style="color: Gray;">&gt;<br>&lt;/</span><span style="color: Blue;">body</span><span style="color: Gray;">&gt;<br>&lt;/</span><span style="color: Blue;">html</span><span style="color: Gray;">&gt;</span></div></div><br><br>Server端完整的cgi程式下所示,用gcc -o xxx.cgi xxx.c編成cgi執行檔並丟到你網頁目錄的cgi-bin下執行<br><br><div class="hl-surround"><div class="hl-main"><span class="hl-prepro">#include </span><span style="color: #8b0000;">&lt;</span><span style="color: Red;">stdio.h</span><span style="color: #8b0000;">&gt;</span><span class="hl-prepro"></span><span style="color: Gray;"><br></span><span class="hl-prepro">#include </span><span style="color: #8b0000;">&lt;</span><span style="color: Red;">stdlib.h</span><span style="color: #8b0000;">&gt;</span><span class="hl-prepro"></span><span style="color: Gray;"><br></span><span class="hl-prepro">#include </span><span style="color: #8b0000;">&lt;</span><span style="color: Red;">time.h</span><span style="color: #8b0000;">&gt;</span><span class="hl-prepro"></span><span style="color: Gray;"><br></span><span class="hl-prepro">#include </span><span style="color: #8b0000;">&lt;</span><span style="color: Red;">string.h</span><span style="color: #8b0000;">&gt;</span><span class="hl-prepro"></span><span style="color: Gray;"><br>&nbsp;<br></span><span class="hl-types">typedef</span><span style="color: Gray;"> </span><span class="hl-types">struct</span><span style="color: Gray;"> </span><span style="color: Olive;">{</span><span style="color: Gray;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>&nbsp;&nbsp; &nbsp;</span><span class="hl-types">char</span><span style="color: Gray;"> *</span><span style="color: Blue;">name</span><span style="color: Gray;">;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>&nbsp;&nbsp; &nbsp;</span><span class="hl-types">char</span><span style="color: Gray;"> *</span><span style="color: Blue;">val</span><span style="color: Gray;">;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br></span><span style="color: Olive;">}</span><span style="color: Gray;"> </span><span style="color: Blue;">input</span><span style="color: Gray;">;<br>&nbsp;<br></span><span style="color: Blue;">FILE</span><span style="color: Gray;"> *</span><span style="color: Blue;">fp</span><span style="color: Gray;">, *</span><span style="color: Blue;">fopen</span><span style="color: Olive;">()</span><span style="color: Gray;">;<br></span><span class="hl-types">char</span><span style="color: Gray;"> </span><span style="color: Blue;">freq</span><span style="color: Olive;">[</span><span style="color: Maroon;">10</span><span style="color: Olive;">]</span><span style="color: Gray;">=</span><span style="color: #8b0000;">"</span><span style="color: Red;">1.23</span><span style="color: #8b0000;">"</span><span style="color: Gray;">;<br></span><span class="hl-types">char</span><span style="color: Gray;"> </span><span style="color: Blue;">username</span><span style="color: Olive;">[</span><span style="color: Maroon;">10</span><span style="color: Olive;">]</span><span style="color: Gray;">=</span><span style="color: #8b0000;">"</span><span style="color: Red;">jemic</span><span style="color: #8b0000;">"</span><span style="color: Gray;">;<br>&nbsp;<br></span><span class="hl-types">char</span><span style="color: Gray;"> *</span><span style="color: Blue;">ReadStdin</span><span style="color: Olive;">(</span><span style="color: Blue;">FILE</span><span style="color: Gray;"> *</span><span style="color: Blue;">f</span><span style="color: Gray;">, </span><span class="hl-types">char</span><span style="color: Gray;"> </span><span style="color: Blue;">stop</span><span style="color: Gray;">, </span><span class="hl-types">int</span><span style="color: Gray;"> *</span><span style="color: Blue;">len</span><span style="color: Olive;">)</span><span style="color: Gray;"><br></span><span style="color: Olive;">{</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp;</span><span class="hl-types">int</span><span style="color: Gray;"> </span><span style="color: Blue;">wsize</span><span style="color: Gray;">;<br>&nbsp;&nbsp; &nbsp;</span><span class="hl-types">char</span><span style="color: Gray;"> *</span><span style="color: Blue;">word</span><span style="color: Gray;">;<br>&nbsp;&nbsp; &nbsp;</span><span class="hl-types">int</span><span style="color: Gray;"> </span><span style="color: Blue;">x</span><span style="color: Gray;">;<br>&nbsp;<br>&nbsp;&nbsp; &nbsp;</span><span style="color: Blue;">wsize</span><span style="color: Gray;"> = </span><span style="color: Maroon;">102400</span><span style="color: Gray;">;<br>&nbsp;&nbsp; &nbsp;</span><span style="color: Blue;">x</span><span style="color: Gray;">=</span><span style="color: Maroon;">0</span><span style="color: Gray;">;<br>&nbsp;&nbsp; &nbsp;</span><span style="color: Blue;">word</span><span style="color: Gray;"> = </span><span style="color: Olive;">(</span><span class="hl-types">char</span><span style="color: Gray;"> *</span><span style="color: Olive;">)</span><span style="color: Gray;"> </span><span style="color: Blue;">malloc</span><span style="color: Olive;">(</span><span style="color: Green;">sizeof</span><span style="color: Olive;">(</span><span class="hl-types">char</span><span style="color: Olive;">)</span><span style="color: Gray;"> * </span><span style="color: Olive;">(</span><span style="color: Blue;">wsize</span><span style="color: Gray;"> + </span><span style="color: Maroon;">1</span><span style="color: Olive;">))</span><span style="color: Gray;">;<br>&nbsp;<br>&nbsp;&nbsp; &nbsp;</span><span style="color: Green;">while</span><span style="color: Olive;">(</span><span style="color: Maroon;">1</span><span style="color: Olive;">)</span><span style="color: Gray;"> </span><span style="color: Olive;">{</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Blue;">word</span><span style="color: Olive;">[</span><span style="color: Blue;">x</span><span style="color: Olive;">]</span><span style="color: Gray;"> = </span><span style="color: Olive;">(</span><span class="hl-types">char</span><span style="color: Olive;">)</span><span style="color: Blue;">fgetc</span><span style="color: Olive;">(</span><span style="color: Blue;">f</span><span style="color: Olive;">)</span><span style="color: Gray;">;<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Green;">if</span><span style="color: Olive;">(</span><span style="color: Gray;"> </span><span style="color: Blue;">x</span><span style="color: Gray;">==</span><span style="color: Blue;">wsize</span><span style="color: Olive;">)</span><span style="color: Gray;"> </span><span style="color: Olive;">{</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Blue;">word</span><span style="color: Olive;">[</span><span style="color: Blue;">x</span><span style="color: Gray;">+</span><span style="color: Maroon;">1</span><span style="color: Olive;">]</span><span style="color: Gray;"> = '\</span><span style="color: Maroon;">0</span><span style="color: Gray;">';<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Blue;">wsize</span><span style="color: Gray;">+=</span><span style="color: Maroon;">102400</span><span style="color: Gray;">;<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Blue;">word</span><span style="color: Gray;"> = </span><span style="color: Olive;">(</span><span class="hl-types">char</span><span style="color: Gray;"> *</span><span style="color: Olive;">)</span><span style="color: Blue;">realloc</span><span style="color: Olive;">(</span><span style="color: Blue;">word</span><span style="color: Gray;">,</span><span style="color: Green;">sizeof</span><span style="color: Olive;">(</span><span class="hl-types">char</span><span style="color: Olive;">)</span><span style="color: Gray;">*</span><span style="color: Olive;">(</span><span style="color: Blue;">wsize</span><span style="color: Gray;">+</span><span style="color: Maroon;">1</span><span style="color: Olive;">))</span><span style="color: Gray;">;<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Olive;">}</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;--</span><span style="color: Olive;">(</span><span style="color: Gray;">*</span><span style="color: Blue;">len</span><span style="color: Olive;">)</span><span style="color: Gray;">;<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Green;">if</span><span style="color: Olive;">((</span><span style="color: Blue;">word</span><span style="color: Olive;">[</span><span style="color: Blue;">x</span><span style="color: Olive;">]</span><span style="color: Gray;"> == </span><span style="color: Blue;">stop</span><span style="color: Olive;">)</span><span style="color: Gray;"> || </span><span style="color: Olive;">(</span><span style="color: Blue;">feof</span><span style="color: Olive;">(</span><span style="color: Blue;">f</span><span style="color: Olive;">))</span><span style="color: Gray;"> || </span><span style="color: Olive;">(</span><span style="color: Gray;">!</span><span style="color: Olive;">(</span><span style="color: Gray;">*</span><span style="color: Blue;">len</span><span style="color: Olive;">)))</span><span style="color: Gray;"> </span><span style="color: Olive;">{</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Green;">if</span><span style="color: Olive;">(</span><span style="color: Blue;">word</span><span style="color: Olive;">[</span><span style="color: Blue;">x</span><span style="color: Olive;">]</span><span style="color: Gray;"> != </span><span style="color: Blue;">stop</span><span style="color: Olive;">)</span><span style="color: Gray;"> </span><span style="color: Blue;">x</span><span style="color: Gray;">++;<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Blue;">word</span><span style="color: Olive;">[</span><span style="color: Blue;">x</span><span style="color: Olive;">]</span><span style="color: Gray;"> = '\</span><span style="color: Maroon;">0</span><span style="color: Gray;">';<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Green;">return</span><span style="color: Gray;"> </span><span style="color: Blue;">word</span><span style="color: Gray;">;<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Olive;">}</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;++</span><span style="color: Blue;">x</span><span style="color: Gray;">;<br>&nbsp;&nbsp; &nbsp;</span><span style="color: Olive;">}</span><span style="color: Gray;"><br></span><span style="color: Olive;">}</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;<br></span><span class="hl-types">char</span><span style="color: Gray;"> *</span><span style="color: Blue;">ReadString</span><span style="color: Olive;">(</span><span class="hl-types">char</span><span style="color: Gray;"> *</span><span style="color: Blue;">f</span><span style="color: Gray;">, </span><span class="hl-types">char</span><span style="color: Gray;"> </span><span style="color: Blue;">stop</span><span style="color: Gray;">, </span><span class="hl-types">int</span><span style="color: Gray;"> *</span><span style="color: Blue;">len</span><span style="color: Olive;">)</span><span style="color: Gray;"><br></span><span style="color: Olive;">{</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp;</span><span class="hl-types">int</span><span style="color: Gray;"> </span><span style="color: Blue;">wsize</span><span style="color: Gray;">;<br>&nbsp;&nbsp; &nbsp;</span><span class="hl-types">char</span><span style="color: Gray;"> *</span><span style="color: Blue;">word</span><span style="color: Gray;">;<br>&nbsp;&nbsp; &nbsp;</span><span class="hl-types">int</span><span style="color: Gray;"> </span><span style="color: Blue;">x</span><span style="color: Gray;">;<br>&nbsp;<br>&nbsp;&nbsp; &nbsp;</span><span style="color: Blue;">wsize</span><span style="color: Gray;"> = </span><span style="color: Maroon;">102400</span><span style="color: Gray;">;<br>&nbsp;&nbsp; &nbsp;</span><span style="color: Blue;">x</span><span style="color: Gray;">=</span><span style="color: Maroon;">0</span><span style="color: Gray;">;<br>&nbsp;&nbsp; &nbsp;</span><span style="color: Blue;">word</span><span style="color: Gray;"> = </span><span style="color: Olive;">(</span><span class="hl-types">char</span><span style="color: Gray;"> *</span><span style="color: Olive;">)</span><span style="color: Gray;"> </span><span style="color: Blue;">malloc</span><span style="color: Olive;">(</span><span style="color: Green;">sizeof</span><span style="color: Olive;">(</span><span class="hl-types">char</span><span style="color: Olive;">)</span><span style="color: Gray;"> * </span><span style="color: Olive;">(</span><span style="color: Blue;">wsize</span><span style="color: Gray;"> + </span><span style="color: Maroon;">1</span><span style="color: Olive;">))</span><span style="color: Gray;">;<br>&nbsp;<br>&nbsp;&nbsp; &nbsp;</span><span style="color: Green;">while</span><span style="color: Olive;">(</span><span style="color: Maroon;">1</span><span style="color: Olive;">)</span><span style="color: Gray;"> </span><span style="color: Olive;">{</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Blue;">word</span><span style="color: Olive;">[</span><span style="color: Blue;">x</span><span style="color: Olive;">]</span><span style="color: Gray;"> = *</span><span style="color: Blue;">f</span><span style="color: Gray;">;<br>&nbsp;&nbsp; &nbsp;</span><span style="color: Blue;">f</span><span style="color: Gray;">++;<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Green;">if</span><span style="color: Olive;">(</span><span style="color: Gray;"> </span><span style="color: Blue;">x</span><span style="color: Gray;">==</span><span style="color: Blue;">wsize</span><span style="color: Olive;">)</span><span style="color: Gray;"> </span><span style="color: Olive;">{</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Blue;">word</span><span style="color: Olive;">[</span><span style="color: Blue;">x</span><span style="color: Gray;">+</span><span style="color: Maroon;">1</span><span style="color: Olive;">]</span><span style="color: Gray;"> = '\</span><span style="color: Maroon;">0</span><span style="color: Gray;">';<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Blue;">wsize</span><span style="color: Gray;">+=</span><span style="color: Maroon;">102400</span><span style="color: Gray;">;<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Blue;">word</span><span style="color: Gray;"> = </span><span style="color: Olive;">(</span><span class="hl-types">char</span><span style="color: Gray;"> *</span><span style="color: Olive;">)</span><span style="color: Blue;">realloc</span><span style="color: Olive;">(</span><span style="color: Blue;">word</span><span style="color: Gray;">,</span><span style="color: Green;">sizeof</span><span style="color: Olive;">(</span><span class="hl-types">char</span><span style="color: Olive;">)</span><span style="color: Gray;">*</span><span style="color: Olive;">(</span><span style="color: Blue;">wsize</span><span style="color: Gray;">+</span><span style="color: Maroon;">1</span><span style="color: Olive;">))</span><span style="color: Gray;">;<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Olive;">}</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;--</span><span style="color: Olive;">(</span><span style="color: Gray;">*</span><span style="color: Blue;">len</span><span style="color: Olive;">)</span><span style="color: Gray;">;<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Green;">if</span><span style="color: Olive;">((</span><span style="color: Blue;">word</span><span style="color: Olive;">[</span><span style="color: Blue;">x</span><span style="color: Olive;">]</span><span style="color: Gray;"> == </span><span style="color: Blue;">stop</span><span style="color: Olive;">)</span><span style="color: Gray;"> || </span><span style="color: Olive;">(</span><span style="color: Gray;">!</span><span style="color: Olive;">(</span><span style="color: Gray;">*</span><span style="color: Blue;">len</span><span style="color: Olive;">)))</span><span style="color: Gray;"> </span><span style="color: Olive;">{</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Green;">if</span><span style="color: Olive;">(</span><span style="color: Blue;">word</span><span style="color: Olive;">[</span><span style="color: Blue;">x</span><span style="color: Olive;">]</span><span style="color: Gray;"> != </span><span style="color: Blue;">stop</span><span style="color: Olive;">)</span><span style="color: Gray;"> </span><span style="color: Blue;">x</span><span style="color: Gray;">++;<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Blue;">word</span><span style="color: Olive;">[</span><span style="color: Blue;">x</span><span style="color: Olive;">]</span><span style="color: Gray;"> = '\</span><span style="color: Maroon;">0</span><span style="color: Gray;">';<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Green;">return</span><span style="color: Gray;"> </span><span style="color: Blue;">word</span><span style="color: Gray;">;<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Olive;">}</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;++</span><span style="color: Blue;">x</span><span style="color: Gray;">;<br>&nbsp;&nbsp; &nbsp;</span><span style="color: Olive;">}</span><span style="color: Gray;"><br></span><span style="color: Olive;">}</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp; &nbsp;<br>&nbsp;<br></span><span class="hl-types">char</span><span style="color: Gray;"> *</span><span style="color: Blue;">ReadData</span><span style="color: Olive;">(</span><span class="hl-types">char</span><span style="color: Gray;"> *</span><span style="color: Blue;">line</span><span style="color: Gray;">, </span><span class="hl-types">char</span><span style="color: Gray;"> </span><span style="color: Blue;">stop</span><span style="color: Olive;">)</span><span style="color: Gray;"><br></span><span style="color: Olive;">{</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp;</span><span class="hl-types">int</span><span style="color: Gray;"> </span><span style="color: Blue;">i</span><span style="color: Gray;"> = </span><span style="color: Maroon;">0</span><span style="color: Gray;">, </span><span style="color: Blue;">j</span><span style="color: Gray;">;<br>&nbsp;&nbsp; &nbsp;</span><span class="hl-types">char</span><span style="color: Gray;"> *</span><span style="color: Blue;">word</span><span style="color: Gray;"> = </span><span style="color: Olive;">(</span><span class="hl-types">char</span><span style="color: Gray;"> *</span><span style="color: Olive;">)</span><span style="color: Gray;"> </span><span style="color: Blue;">malloc</span><span style="color: Olive;">(</span><span style="color: Green;">sizeof</span><span style="color: Olive;">(</span><span class="hl-types">char</span><span style="color: Olive;">)</span><span style="color: Gray;"> * </span><span style="color: Olive;">(</span><span style="color: Blue;">strlen</span><span style="color: Olive;">(</span><span style="color: Blue;">line</span><span style="color: Olive;">)</span><span style="color: Gray;"> + </span><span style="color: Maroon;">1</span><span style="color: Olive;">))</span><span style="color: Gray;">;<br>&nbsp;<br>&nbsp;&nbsp; &nbsp;</span><span style="color: Green;">for</span><span style="color: Olive;">(</span><span style="color: Blue;">i</span><span style="color: Gray;">=</span><span style="color: Maroon;">0</span><span style="color: Gray;">; </span><span style="color: Olive;">((</span><span style="color: Blue;">line</span><span style="color: Olive;">[</span><span style="color: Blue;">i</span><span style="color: Olive;">])</span><span style="color: Gray;"> &amp;&amp; </span><span style="color: Olive;">(</span><span style="color: Blue;">line</span><span style="color: Olive;">[</span><span style="color: Blue;">i</span><span style="color: Olive;">]</span><span style="color: Gray;"> != </span><span style="color: Blue;">stop</span><span style="color: Olive;">))</span><span style="color: Gray;">; </span><span style="color: Blue;">i</span><span style="color: Gray;">++</span><span style="color: Olive;">)</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Blue;">word</span><span style="color: Olive;">[</span><span style="color: Blue;">i</span><span style="color: Olive;">]</span><span style="color: Gray;"> = </span><span style="color: Blue;">line</span><span style="color: Olive;">[</span><span style="color: Blue;">i</span><span style="color: Olive;">]</span><span style="color: Gray;">;<br>&nbsp;<br>&nbsp;&nbsp; &nbsp;</span><span style="color: Blue;">word</span><span style="color: Olive;">[</span><span style="color: Blue;">i</span><span style="color: Olive;">]</span><span style="color: Gray;"> = '\</span><span style="color: Maroon;">0</span><span style="color: Gray;">';<br>&nbsp;&nbsp; &nbsp;</span><span style="color: Green;">if</span><span style="color: Olive;">(</span><span style="color: Blue;">line</span><span style="color: Olive;">[</span><span style="color: Blue;">i</span><span style="color: Olive;">])</span><span style="color: Gray;"> ++</span><span style="color: Blue;">i</span><span style="color: Gray;">;<br>&nbsp;&nbsp; &nbsp;</span><span style="color: Blue;">j</span><span style="color: Gray;">=</span><span style="color: Maroon;">0</span><span style="color: Gray;">;<br>&nbsp;<br>&nbsp;&nbsp; &nbsp;</span><span style="color: Green;">while</span><span style="color: Olive;">(</span><span style="color: Blue;">line</span><span style="color: Olive;">[</span><span style="color: Blue;">j</span><span style="color: Gray;">++</span><span style="color: Olive;">]</span><span style="color: Gray;"> = </span><span style="color: Blue;">line</span><span style="color: Olive;">[</span><span style="color: Blue;">i</span><span style="color: Gray;">++</span><span style="color: Olive;">])</span><span style="color: Gray;">;<br>&nbsp;&nbsp; &nbsp;</span><span style="color: Green;">return</span><span style="color: Gray;"> </span><span style="color: Blue;">word</span><span style="color: Gray;">;<br></span><span style="color: Olive;">}</span><span style="color: Gray;"><br>&nbsp;<br></span><span class="hl-types">int</span><span style="color: Gray;"> </span><span style="color: Blue;">main</span><span style="color: Olive;">(</span><span class="hl-types">int</span><span style="color: Gray;"> </span><span style="color: Blue;">argc</span><span style="color: Gray;">, </span><span class="hl-types">char</span><span style="color: Gray;"> *</span><span style="color: Blue;">argv</span><span style="color: Olive;">[])</span><span style="color: Gray;"><br></span><span style="color: Olive;">{</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Blue;">input</span><span style="color: Gray;"> </span><span style="color: Blue;">inputs</span><span style="color: Olive;">[</span><span style="color: Maroon;">256</span><span style="color: Olive;">]</span><span style="color: Gray;">;<br>&nbsp;&nbsp; &nbsp;</span><span class="hl-types">register</span><span style="color: Gray;"> </span><span class="hl-types">int</span><span style="color: Gray;"> </span><span style="color: Blue;">i</span><span style="color: Gray;">=</span><span style="color: Maroon;">0</span><span style="color: Gray;">;<br>&nbsp;&nbsp; &nbsp;</span><span class="hl-types">char</span><span style="color: Gray;"> *</span><span style="color: Blue;">query_string</span><span style="color: Gray;">=</span><span class="hl-prepro">NULL</span><span style="color: Gray;">;<br>&nbsp;&nbsp; &nbsp;</span><span class="hl-types">int</span><span style="color: Gray;"> </span><span style="color: Blue;">len</span><span style="color: Gray;">=</span><span style="color: Maroon;">0</span><span style="color: Gray;">,</span><span style="color: Blue;">qlen</span><span style="color: Gray;">=</span><span style="color: Maroon;">0</span><span style="color: Gray;">,</span><span style="color: Blue;">repIndex</span><span style="color: Gray;">=</span><span style="color: Maroon;">0</span><span style="color: Gray;">;<br>&nbsp;&nbsp; &nbsp;<br>&nbsp;&nbsp; &nbsp;<br>&nbsp;&nbsp; &nbsp;</span><span style="color: Blue;">qlen</span><span style="color: Gray;">=</span><span style="color: Blue;">strlen</span><span style="color: Olive;">(</span><span style="color: Blue;">getenv</span><span style="color: Olive;">(</span><span style="color: #8b0000;">"</span><span style="color: Red;">QUERY_STRING</span><span style="color: #8b0000;">"</span><span style="color: Olive;">))</span><span style="color: Gray;">;<br>&nbsp;&nbsp; &nbsp;</span><span style="color: Blue;">query_string</span><span style="color: Gray;">=</span><span style="color: Blue;">getenv</span><span style="color: Olive;">(</span><span style="color: #8b0000;">"</span><span style="color: Red;">QUERY_STRING</span><span style="color: #8b0000;">"</span><span style="color: Olive;">)</span><span style="color: Gray;">;<br>&nbsp;&nbsp; &nbsp;<br>&nbsp;&nbsp; &nbsp;</span><span style="color: Green;">if</span><span style="color: Gray;"> </span><span style="color: Olive;">(</span><span style="color: Blue;">qlen</span><span style="color: Gray;">!=</span><span style="color: Maroon;">0</span><span style="color: Olive;">)</span><span style="color: #ffa500;">//deal with method get </span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp;</span><span style="color: Olive;">{</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Blue;">fprintf</span><span style="color: Olive;">(</span><span style="color: Blue;">stdout</span><span style="color: Gray;">, </span><span style="color: #8b0000;">"</span><span style="color: Red;">Content-Type: text/html</span><span style="color: Navy;">\</span><span style="color: Red;">r</span><span style="color: Navy;">\</span><span style="color: Red;">n</span><span style="color: Navy;">\</span><span style="color: Red;">r</span><span style="color: Navy;">\</span><span style="color: Red;">n</span><span style="color: #8b0000;">"</span><span style="color: Olive;">)</span><span style="color: Gray;">;<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Green;">for</span><span style="color: Olive;">(</span><span style="color: Blue;">i</span><span style="color: Gray;">=</span><span style="color: Maroon;">0</span><span style="color: Gray;">;</span><span style="color: Blue;">qlen</span><span style="color: Gray;">&gt;</span><span style="color: Maroon;">0</span><span style="color: Gray;">; </span><span style="color: Blue;">i</span><span style="color: Gray;">++</span><span style="color: Olive;">)</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp;</span><span style="color: Olive;">{</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Blue;">inputs</span><span style="color: Olive;">[</span><span style="color: Blue;">i</span><span style="color: Olive;">]</span><span style="color: Gray;">.</span><span style="color: Blue;">val</span><span style="color: Gray;"> = </span><span style="color: Blue;">ReadString</span><span style="color: Olive;">(</span><span style="color: Blue;">query_string</span><span style="color: Gray;">,'&amp;',&amp;</span><span style="color: Blue;">qlen</span><span style="color: Olive;">)</span><span style="color: Gray;">;<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Blue;">repIndex</span><span style="color: Gray;">=</span><span style="color: Blue;">i</span><span style="color: Gray;">;<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Blue;">query_string</span><span style="color: Gray;">+=</span><span style="color: Blue;">strlen</span><span style="color: Olive;">(</span><span style="color: Blue;">inputs</span><span style="color: Olive;">[</span><span style="color: Blue;">i</span><span style="color: Olive;">]</span><span style="color: Gray;">.</span><span style="color: Blue;">val</span><span style="color: Olive;">)</span><span style="color: Gray;">+</span><span style="color: Maroon;">1</span><span style="color: Gray;">;<br>&nbsp;&nbsp; &nbsp;</span><span style="color: Olive;">}</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Green;">for</span><span style="color: Gray;"> </span><span style="color: Olive;">(</span><span style="color: Blue;">i</span><span style="color: Gray;">=</span><span style="color: Maroon;">0</span><span style="color: Gray;">;</span><span style="color: Blue;">i</span><span style="color: Gray;">&lt;=</span><span style="color: Blue;">repIndex</span><span style="color: Gray;">;</span><span style="color: Blue;">i</span><span style="color: Gray;">++</span><span style="color: Olive;">)</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Olive;">{</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Green;">if</span><span style="color: Gray;"> </span><span style="color: Olive;">(</span><span style="color: Blue;">strcmp</span><span style="color: Olive;">(</span><span style="color: Blue;">inputs</span><span style="color: Olive;">[</span><span style="color: Blue;">i</span><span style="color: Olive;">]</span><span style="color: Gray;">.</span><span style="color: Blue;">val</span><span style="color: Gray;">,</span><span style="color: #8b0000;">"</span><span style="color: Red;">freq</span><span style="color: #8b0000;">"</span><span style="color: Olive;">)</span><span style="color: Gray;">==</span><span style="color: Maroon;">0</span><span style="color: Olive;">)</span><span style="color: Gray;"> </span><span style="color: Blue;">fprintf</span><span style="color: Olive;">(</span><span style="color: Blue;">stdout</span><span style="color: Gray;">,</span><span style="color: #8b0000;">"</span><span style="color: Red;">%s=%s&amp;</span><span style="color: #8b0000;">"</span><span style="color: Gray;">,</span><span style="color: Blue;">inputs</span><span style="color: Olive;">[</span><span style="color: Blue;">i</span><span style="color: Olive;">]</span><span style="color: Gray;">.</span><span style="color: Blue;">val</span><span style="color: Gray;">,</span><span style="color: Blue;">freq</span><span style="color: Olive;">)</span><span style="color: Gray;">;<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Green;">if</span><span style="color: Gray;"> </span><span style="color: Olive;">(</span><span style="color: Blue;">strcmp</span><span style="color: Olive;">(</span><span style="color: Blue;">inputs</span><span style="color: Olive;">[</span><span style="color: Blue;">i</span><span style="color: Olive;">]</span><span style="color: Gray;">.</span><span style="color: Blue;">val</span><span style="color: Gray;">,</span><span style="color: #8b0000;">"</span><span style="color: Red;">username</span><span style="color: #8b0000;">"</span><span style="color: Olive;">)</span><span style="color: Gray;">==</span><span style="color: Maroon;">0</span><span style="color: Olive;">)</span><span style="color: Gray;"> </span><span style="color: Blue;">fprintf</span><span style="color: Olive;">(</span><span style="color: Blue;">stdout</span><span style="color: Gray;">,</span><span style="color: #8b0000;">"</span><span style="color: Red;">%s=%s&amp;</span><span style="color: #8b0000;">"</span><span style="color: Gray;">,</span><span style="color: Blue;">inputs</span><span style="color: Olive;">[</span><span style="color: Blue;">i</span><span style="color: Olive;">]</span><span style="color: Gray;">.</span><span style="color: Blue;">val</span><span style="color: Gray;">,</span><span style="color: Blue;">username</span><span style="color: Olive;">)</span><span style="color: Gray;">;<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Olive;">}</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Green;">return</span><span style="color: Gray;"> </span><span style="color: Maroon;">0</span><span style="color: Gray;">;<br>&nbsp;&nbsp; &nbsp;</span><span style="color: Olive;">}</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Green;">if</span><span style="color: Gray;"> </span><span style="color: Olive;">(</span><span style="color: Blue;">qlen</span><span style="color: Gray;">==</span><span style="color: Maroon;">0</span><span style="color: Olive;">)</span><span style="color: #ffa500;">//deal with method set</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp;</span><span style="color: Olive;">{</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Blue;">len</span><span style="color: Gray;"> = </span><span style="color: Blue;">atoi</span><span style="color: Olive;">(</span><span style="color: Blue;">getenv</span><span style="color: Olive;">(</span><span style="color: #8b0000;">"</span><span style="color: Red;">CONTENT_LENGTH</span><span style="color: #8b0000;">"</span><span style="color: Olive;">))</span><span style="color: Gray;">;<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Green;">for</span><span style="color: Olive;">(</span><span style="color: Blue;">i</span><span style="color: Gray;">=</span><span style="color: Maroon;">0</span><span style="color: Gray;">;</span><span style="color: Blue;">len</span><span style="color: Gray;"> &amp;&amp; </span><span style="color: Olive;">(</span><span style="color: Gray;">!</span><span style="color: Blue;">feof</span><span style="color: Olive;">(</span><span style="color: Blue;">stdin</span><span style="color: Olive;">))</span><span style="color: Gray;">; </span><span style="color: Blue;">i</span><span style="color: Gray;">++</span><span style="color: Olive;">)</span><span style="color: Gray;"> <br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Olive;">{</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Blue;">inputs</span><span style="color: Olive;">[</span><span style="color: Blue;">i</span><span style="color: Olive;">]</span><span style="color: Gray;">.</span><span style="color: Blue;">val</span><span style="color: Gray;"> = </span><span style="color: Blue;">ReadStdin</span><span style="color: Olive;">(</span><span style="color: Blue;">stdin</span><span style="color: Gray;">,'&amp;',&amp;</span><span style="color: Blue;">len</span><span style="color: Olive;">)</span><span style="color: Gray;">; <br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Blue;">inputs</span><span style="color: Olive;">[</span><span style="color: Blue;">i</span><span style="color: Olive;">]</span><span style="color: Gray;">.</span><span style="color: Blue;">name</span><span style="color: Gray;"> = </span><span style="color: Blue;">ReadData</span><span style="color: Olive;">(</span><span style="color: Blue;">inputs</span><span style="color: Olive;">[</span><span style="color: Blue;">i</span><span style="color: Olive;">]</span><span style="color: Gray;">.</span><span style="color: Blue;">val</span><span style="color: Gray;">,'='</span><span style="color: Olive;">)</span><span style="color: Gray;">;<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Blue;">repIndex</span><span style="color: Gray;">=</span><span style="color: Blue;">i</span><span style="color: Gray;">;&nbsp; <br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Olive;">}</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Blue;">fprintf</span><span style="color: Olive;">(</span><span style="color: Blue;">stdout</span><span style="color: Gray;">, </span><span style="color: #8b0000;">"</span><span style="color: Red;">Content-Type: text/html</span><span style="color: Navy;">\</span><span style="color: Red;">r</span><span style="color: Navy;">\</span><span style="color: Red;">n</span><span style="color: Navy;">\</span><span style="color: Red;">r</span><span style="color: Navy;">\</span><span style="color: Red;">n</span><span style="color: #8b0000;">"</span><span style="color: Olive;">)</span><span style="color: Gray;">;<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Green;">for</span><span style="color: Gray;"> </span><span style="color: Olive;">(</span><span style="color: Blue;">i</span><span style="color: Gray;">=</span><span style="color: Maroon;">0</span><span style="color: Gray;">;</span><span style="color: Blue;">i</span><span style="color: Gray;">&lt;=</span><span style="color: Blue;">repIndex</span><span style="color: Gray;">;</span><span style="color: Blue;">i</span><span style="color: Gray;">++</span><span style="color: Olive;">)</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Olive;">{</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Green;">if</span><span style="color: Gray;"> </span><span style="color: Olive;">(</span><span style="color: Blue;">strcmp</span><span style="color: Olive;">(</span><span style="color: Blue;">inputs</span><span style="color: Olive;">[</span><span style="color: Blue;">i</span><span style="color: Olive;">]</span><span style="color: Gray;">.</span><span style="color: Blue;">name</span><span style="color: Gray;">,</span><span style="color: #8b0000;">"</span><span style="color: Red;">freq</span><span style="color: #8b0000;">"</span><span style="color: Olive;">)</span><span style="color: Gray;">==</span><span style="color: Maroon;">0</span><span style="color: Olive;">)</span><span style="color: Gray;"> <br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Olive;">{</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Blue;">strncpy</span><span style="color: Olive;">(</span><span style="color: Blue;">freq</span><span style="color: Gray;">,</span><span style="color: Blue;">inputs</span><span style="color: Olive;">[</span><span style="color: Blue;">i</span><span style="color: Olive;">]</span><span style="color: Gray;">.</span><span style="color: Blue;">val</span><span style="color: Gray;">,</span><span style="color: Maroon;">10</span><span style="color: Olive;">)</span><span style="color: Gray;">;<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Blue;">fprintf</span><span style="color: Olive;">(</span><span style="color: Blue;">stdout</span><span style="color: Gray;">,</span><span style="color: #8b0000;">"</span><span style="color: Red;">%s=%s&amp;</span><span style="color: #8b0000;">"</span><span style="color: Gray;">,</span><span style="color: Blue;">inputs</span><span style="color: Olive;">[</span><span style="color: Blue;">i</span><span style="color: Olive;">]</span><span style="color: Gray;">.</span><span style="color: Blue;">name</span><span style="color: Gray;">,</span><span style="color: Blue;">freq</span><span style="color: Olive;">)</span><span style="color: Gray;">;<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Olive;">}</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Green;">if</span><span style="color: Gray;"> </span><span style="color: Olive;">(</span><span style="color: Blue;">strcmp</span><span style="color: Olive;">(</span><span style="color: Blue;">inputs</span><span style="color: Olive;">[</span><span style="color: Blue;">i</span><span style="color: Olive;">]</span><span style="color: Gray;">.</span><span style="color: Blue;">name</span><span style="color: Gray;">,</span><span style="color: #8b0000;">"</span><span style="color: Red;">username</span><span style="color: #8b0000;">"</span><span style="color: Olive;">)</span><span style="color: Gray;">==</span><span style="color: Maroon;">0</span><span style="color: Olive;">)</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Olive;">{</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Blue;">strncpy</span><span style="color: Olive;">(</span><span style="color: Blue;">username</span><span style="color: Gray;">,</span><span style="color: Blue;">inputs</span><span style="color: Olive;">[</span><span style="color: Blue;">i</span><span style="color: Olive;">]</span><span style="color: Gray;">.</span><span style="color: Blue;">val</span><span style="color: Gray;">,</span><span style="color: Maroon;">10</span><span style="color: Olive;">)</span><span style="color: Gray;">;<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Blue;">fprintf</span><span style="color: Olive;">(</span><span style="color: Blue;">stdout</span><span style="color: Gray;">,</span><span style="color: #8b0000;">"</span><span style="color: Red;">%s=%s&amp;</span><span style="color: #8b0000;">"</span><span style="color: Gray;">,</span><span style="color: Blue;">inputs</span><span style="color: Olive;">[</span><span style="color: Blue;">i</span><span style="color: Olive;">]</span><span style="color: Gray;">.</span><span style="color: Blue;">name</span><span style="color: Gray;">,</span><span style="color: Blue;">username</span><span style="color: Olive;">)</span><span style="color: Gray;">;<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Olive;">}</span><span style="color: Gray;"><br>&nbsp;<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Olive;">}</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Green;">return</span><span style="color: Gray;"> </span><span style="color: Maroon;">0</span><span style="color: Gray;">;<br>&nbsp;&nbsp; &nbsp;</span><span style="color: Olive;">}</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp;</span><span style="color: Green;">else</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp;</span><span style="color: Olive;">{</span><span style="color: Gray;"><br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Blue;">fprintf</span><span style="color: Olive;">(</span><span style="color: Blue;">stdout</span><span style="color: Gray;">, </span><span style="color: #8b0000;">"</span><span style="color: Red;">Content-Type: text/html</span><span style="color: Navy;">\</span><span style="color: Red;">r</span><span style="color: Navy;">\</span><span style="color: Red;">n</span><span style="color: Navy;">\</span><span style="color: Red;">r</span><span style="color: Navy;">\</span><span style="color: Red;">n</span><span style="color: #8b0000;">"</span><span style="color: Olive;">)</span><span style="color: Gray;">;<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: Green;">return</span><span style="color: Gray;"> </span><span style="color: Maroon;">0</span><span style="color: Gray;">;<br>&nbsp;&nbsp; &nbsp;</span><span style="color: Olive;">}</span><span style="color: Gray;"><br></span><span style="color: Olive;">}</span></div></div><br><br></font></span>	  </div>
	  
	  	  <div class="Content-body">
						<img src="./Embedded AJAX+CGI web UI solution - 嵌入式系統 - 愛做夢的蘆薈_files/tag.gif" style="margin:4px 2px -4px 0px" alt=""><strong>標籤:</strong> 
		<a href="http://daydreamer.idv.tw/rewrite.php/tags-embedded.html">embedded</a> <br>
			  </div>
	  
	  <div class="Content-bottom">
		<div class="ContentBLeft"></div>
		<div class="ContentBRight"></div>
		<a href="http://daydreamer.idv.tw/rewrite.php/read-4.html#comm_top">評論: <span id="commNums">0</span></a> |
		引用: 0 |
		閱讀: 5059 
	    	    	    	
		
		
	  </div>
	</div>
			  <div class="comment">
			<div class="commenttop">
				<img src="./Embedded AJAX+CGI web UI solution - 嵌入式系統 - 愛做夢的蘆薈_files/tag.gif" alt="" style="margin:0px 4px -3px 0px"><strong>顯示Tag關聯文章</strong> 
			</div>
			<div class="commentcontent">
							<a href="http://daydreamer.idv.tw/rewrite.php/read-64.html">
				ttysnoop-沒有螺絲起子的日子 (2009-08-25 10:49)</a>  <br>
							<a href="http://daydreamer.idv.tw/rewrite.php/read-60.html">
				fw_printenv-control u-boot enviroment variables under linux (2009-05-12 16:35)</a>  <br>
							<a href="http://daydreamer.idv.tw/rewrite.php/read-56.html">
				rpcapd與netcat-測試嵌入式系統的好工具 (2009-04-09 17:06)</a>  <br>
							<a href="http://daydreamer.idv.tw/rewrite.php/read-49.html">
				udev-強大的device node管理系統 (2009-02-02 20:35)</a>  <br>
							<a href="http://daydreamer.idv.tw/rewrite.php/read-42.html">
				Framebuffer兩三事-Test On QT2410 (2009-01-12 16:29)</a>  <br>
							<a href="http://daydreamer.idv.tw/rewrite.php/read-41.html">
				UIO-Linux user space I/O driver (2008-12-15 14:50)</a>  <br>
							<a href="http://daydreamer.idv.tw/rewrite.php/read-39.html">
				GDB-刺入bug心臟的寶劍 (2008-10-15 16:11)</a>  <br>
							<a href="http://daydreamer.idv.tw/rewrite.php/read-37.html">
				Telnet daemon-RS232以外的選擇 (2008-10-03 18:57)</a>  <br>
							<a href="http://daydreamer.idv.tw/rewrite.php/read-36.html">
				在嵌入式系統切換file system-以squashfs和jffs2為例 (2008-10-01 19:44)</a>  <br>
							<a href="http://daydreamer.idv.tw/rewrite.php/read-34.html">
				Linux kernel module-進入系統核心的鑰匙 (2008-09-12 14:03)</a>  <br>
						</div>
		   </div>
			</div>
	<a name="comm_top" href="http://daydreamer.idv.tw/comm_top" accesskey="C"></a>
		<div id="Content_ContentList" class="content-width">
		<div class="pageContent" style="OVERFLOW: hidden; LINE-HEIGHT: 140%; HEIGHT: 18px; TEXT-ALIGN: right">
		  <div class="page" style="float:left"><span id="load_ajax_msg"></span></div>
		</div>
	</div>
<a name="tb_top" href="http://daydreamer.idv.tw/tb_top"></a>
<script type="text/javascript">
<!--
function isNull(field,message) {
	if (field.value=="") {
		alert(message + '\t');
		field.focus();
		return true;
	}
	return false;
}

function onclick_update(form) {
			if (strlen(form.username.value)<3){
			alert('對不起，您輸入的暱稱小於3個字符, 請輸入一個較長的暱稱名(支持中文)');
			form.username.focus();
			return false;
		}
		if (/[\'\"\\]/.test(form.username.value)){
			alert('暱稱包含敏感字符或被系統屏蔽');
			form.username.focus();
			return false;
		}
			if (isNull(form.message, '請輸入你的留言內容')) return false;

	form.save.disabled = true;
	form.reback.disabled = true;
	
	var postData="ajax_display=comment_post&id=4";
	postData+="&message="+f2_ajax_encode(form.message.value);
			postData+="&bookface="+form.bookface.value;
				postData+="&username="+f2_ajax_encode(form.username.value);
		postData+="&replypassword="+f2_ajax_encode(form.replypassword.value);
		postData+="&homepage="+f2_ajax_encode(form.homepage.value);
		postData+="&email="+f2_ajax_encode(form.email.value);
				if (form.isSecret.checked){
			postData+="&isSecret=1";
		}else{
			postData+="&isSecret=0";
		}		
				f2_ajax_post(postData);
}

function f2_ajax_response(returnvalue) {
		if (trim(returnvalue)=="") {//处理正常
		document.frm.message.value = "";
		document.getElementById("commNums").innerHTML = parseInt(document.getElementById("commNums").innerHTML)+1;
		f2_ajax_page("f2blog_ajax.php?ajax_display=comment_page&load=read&id=4&page=0");
	}else{
		alert(returnvalue);
	}
	document.frm.save.disabled = false;
	document.frm.reback.disabled = false;
}


function quickpost(event) {
	if((event.ctrlKey && event.keyCode == 13)||(event.altKey && event.keyCode == 83))	{
		onclick_update(this.document.frm);
	}	
}

-->
</script>
<div id="MsgContent" style="width:94%;">
  <div id="MsgHead">發表評論</div>
  <div id="MsgBody">
    <form name="frm" action="" method="post" style="margin:0px;">
      <table width="100%" cellpadding="0" cellspacing="0">
					<tbody><tr>
			  <td align="right" width="18%" style="font-weight:bold">暱　稱:</td>
			  <td width="33%" align="left" style="padding:3px;">
				<input name="username" type="text" onkeydown="quickpost(event)" size="18" class="userpass" maxlength="24" value="">
			  </td>		  
			  <td width="18%" align="right" style="font-weight:bold">密　碼:</td>
			  <td width="33%" align="left" style="padding:3px;">
				<input name="replypassword" type="password" size="18" class="userpass" maxlength="24" value="">
			  </td>
			</tr> 
			<tr>
			  <td width="18%" align="right" valign="top" style="font-weight:bold">網　址:</td>
			  <td width="33%" align="left" style="padding:2px;">
				<input name="homepage" type="text" size="18" class="userpass" maxlength="50" value="">
			  </td>
			  <td width="18%" align="right" style="font-weight:bold">E - mail:</td>
			  <td width="33%" align="left" style="padding:3px;">
				<input name="email" type="text" size="18" class="userpass" maxlength="50" value="">
			  </td>
			</tr>		
						<tr>
			  <td align="right" width="18%" style="font-weight:bold">選　項:</td>
			  <td width="33%" align="left" style="padding:3px;">
				<label for="label5">
				<input name="isSecret" type="checkbox" id="label5" value="1">
				隱藏留言				</label>		  
			  </td>
			  <td width="18%" align="right" style="padding:3px;">&nbsp; </td>
			  <td width="33%" align="left" style="padding:3px;">&nbsp; </td>
        </tr>
								<tr>
		  <td align="right" width="18%" valign="top" style="font-weight:bold">頭　像:</td>
		  <td colspan="3" style="padding:2px;" align="left">
			   <input type="hidden" name="bookface" value="face1">
			   <a href="javascript:void(0)" class="CFace" id="face1" onclick="selectFace(&#39;face1&#39;)"><img src="./Embedded AJAX+CGI web UI solution - 嵌入式系統 - 愛做夢的蘆薈_files/1.gif" alt="" border="0" width="45px" height="45px"></a>
			   				<a href="javascript:void(0)" class="LFace" id="face2" onclick="selectFace(&#39;face2&#39;)"><img src="./Embedded AJAX+CGI web UI solution - 嵌入式系統 - 愛做夢的蘆薈_files/2.gif" alt="" border="0" width="45px" height="45px"></a>
			   				<a href="javascript:void(0)" class="LFace" id="face3" onclick="selectFace(&#39;face3&#39;)"><img src="./Embedded AJAX+CGI web UI solution - 嵌入式系統 - 愛做夢的蘆薈_files/3.gif" alt="" border="0" width="45px" height="45px"></a>
			   				<a href="javascript:void(0)" class="LFace" id="face4" onclick="selectFace(&#39;face4&#39;)"><img src="./Embedded AJAX+CGI web UI solution - 嵌入式系統 - 愛做夢的蘆薈_files/4.gif" alt="" border="0" width="45px" height="45px"></a>
			   				<a href="javascript:void(0)" class="LFace" id="face5" onclick="selectFace(&#39;face5&#39;)"><img src="./Embedded AJAX+CGI web UI solution - 嵌入式系統 - 愛做夢的蘆薈_files/5.gif" alt="" border="0" width="45px" height="45px"></a>
			   				<a href="javascript:void(0)" class="LFace" id="face6" onclick="selectFace(&#39;face6&#39;)"><img src="./Embedded AJAX+CGI web UI solution - 嵌入式系統 - 愛做夢的蘆薈_files/6.gif" alt="" border="0" width="45px" height="45px"></a>
			   				<a href="javascript:void(0)" class="LFace" id="face7" onclick="selectFace(&#39;face7&#39;)"><img src="./Embedded AJAX+CGI web UI solution - 嵌入式系統 - 愛做夢的蘆薈_files/7.gif" alt="" border="0" width="45px" height="45px"></a>
			   		  </td></tr>
		<tr>
		          <td align="right" width="18%" valign="top" style="font-weight:bold">內　容:</td>
          <td colspan="3" style="padding:2px;">
            <script language="javascript" type="text/javascript" src="./Embedded AJAX+CGI web UI solution - 嵌入式系統 - 愛做夢的蘆薈_files/UBBCode.js"></script>
<script language="javascript" type="text/javascript" src="./Embedded AJAX+CGI web UI solution - 嵌入式系統 - 愛做夢的蘆薈_files/UBBCode_help_zh_tw.js"></script>
<textarea id="editMask" class="editTextarea" style="width:99%;height:100px" onfocus="showUBB(&#39;Message&#39;)"></textarea>
<div id="editorbody" style="display:none">
   <div id="editorHead"></div>
   <script>var ubbTools='<div class="editorTools"><div class="Toolsbar"><ul class="ToolsUL"><li><a id="f_bold" href="javascript:UBB_bold();" title="粗體" class="Toolsbutton"><img src="./skins/google_right/UBB/Icons/bold.gif" border="0" alt="粗體" /></a></li><li><a id="f_italic" href="javascript:UBB_italic();" title="斜體" class="Toolsbutton"><img src="./skins/google_right/UBB/Icons/italic.gif" border="0" alt="斜體" /></a></li><li><a id="f_underline" href="javascript:UBB_underline();" title="底線" class="Toolsbutton"><img src="./skins/google_right/UBB/Icons/underline.gif" border="0" alt="底線" /></a></li></ul></div><div class="Toolsbar"><ul class="ToolsUL"><li><a id="f_image" href="javascript:UBB_image();" title="插入圖片" class="Toolsbutton"><img src="./skins/google_right/UBB/Icons/image.gif" border="0" alt="插入圖片" /></a></li><li><a id="f_link" href="javascript:UBB_link();" title="超連結" class="Toolsbutton"><img src="./skins/google_right/UBB/Icons/link.gif" border="0" alt="超連結" /></a></li><li><a id="f_mail" href="javascript:UBB_mail();" title="電子郵件" class="Toolsbutton"><img src="./skins/google_right/UBB/Icons/mail.gif" border="0" alt="電子郵件" /></a></li><li><a id="f_quote" href="javascript:UBB_quote();" title="插入引用" class="Toolsbutton"><img src="./skins/google_right/UBB/Icons/quote.gif" border="0" alt="插入引用" /></a></li></ul></div><div style="clear: both;display: block;height:1px;overflow:hidden"></div></div>'</script>
  <div class="editorContent">
	    <textarea name="message" onkeydown="quickpost(event)" class="editTextarea" style="height:150px;" cols="1" rows="1" accesskey="R"></textarea>
  </div>
</div>
<script language="javascript" type="text/javascript">initUBB("message")</script>
          </td>
        </tr>        
        <tr>
          <td colspan="4" align="center" style="padding:3px;">
            <input name="save" type="button" class="userbutton" value="發表評論" onclick="Javascript:onclick_update(this.form)">
            <input name="reback" type="reset" class="userbutton" value="重寫">
          </td>
        </tr>
      </tbody></table>
    </form>
  </div>
</div>
		          <div id="mainContent-bottomimg"></div>
      </div>
    </div>
	<!--处理侧边栏-->
    <div id="sidebar">
      <div id="innersidebar">
        <div id="sidebar-topimg"><!--工具条顶部图象--></div>
		<!--侧边栏显示内容-->
        <!--類別--><div class="sidepanel" id="Side_Category">  <h4 class="Ptitle" style="cursor: pointer;" onclick="sidebarTools(&#39;content_Category&#39;)">類別</h4>  <div class="Pcontent" id="content_Category" style="display:">	<div class="CategoryTable" id="Category_Body"><script type="text/javascript">	function openCategory(category) {		var oLevel1 = document.getElementById("category_" + category);		var oImg = oLevel1.getElementsByTagName("img")[0];		switch (oImg.src.substr(oImg.src.length - 10, 6)) {			case "isleaf":				return true;			case "closed":				oImg.src = "images/tree/folder_gray/tab_opened.gif";				showLayer("category_" + category + "_children");				expanded = true;				return true;			case "opened":				oImg.src = "images/tree/folder_gray/tab_closed.gif";				hideLayer("category_" + category + "_children");				expanded = false;				return true;		}		return false;	}		function showLayer(id) {		document.getElementById(id).style.display = "block";		return true;	}		function hideLayer(id) {		document.getElementById(id).style.display = "none";		return true;	}	</script><div id="treeComponent">  <div id="category_0" style="line-height: 100%">    <div style="display:inline;"><img src="./Embedded AJAX+CGI web UI solution - 嵌入式系統 - 愛做夢的蘆薈_files/tab_top.gif" width="16" align="top" alt=""></div>    <div style="display:inline; vertical-align:middle; padding-left:3px; cursor:pointer;">      <a href="http://daydreamer.idv.tw/index.php">所有分類 (62)</a> <span class="rss"><a href="http://daydreamer.idv.tw/rss.php">[RSS]</a></span></div>  </div>  <div id="category_category_1" style="line-height: 100%">    <div style="display:inline; background-image: url(&#39;images/tree/folder_gray/navi_back_noactive.gif&#39;)"><a class="click"><img src="./Embedded AJAX+CGI web UI solution - 嵌入式系統 - 愛做夢的蘆薈_files/tab_isleaf.gif" align="top" alt=""></a></div>    <div style="display:inline;" title="心情">      <div id="text_1" style="padding-left:3px; cursor:pointer;display:inline; vertical-align:middle;"><a href="http://daydreamer.idv.tw/rewrite.php/category-7.html">心情	  (2)</a> <span class="rss"><a href="http://daydreamer.idv.tw/rss.php?cateID=7">[RSS]</a></span></div>    </div>  </div>      <div id="category_category_2" style="line-height: 100%">    <div style="display:inline; background-image: url(&#39;images/tree/folder_gray/navi_back_noactive.gif&#39;)"><a class="click"><img src="./Embedded AJAX+CGI web UI solution - 嵌入式系統 - 愛做夢的蘆薈_files/tab_isleaf.gif" align="top" alt=""></a></div>    <div style="display:inline;" title="未分類文章">      <div id="text_2" style="padding-left:3px; cursor:pointer;display:inline; vertical-align:middle;"><a href="http://daydreamer.idv.tw/rewrite.php/category-1.html">未分類文章	  (0)</a> <span class="rss"><a href="http://daydreamer.idv.tw/rss.php?cateID=1">[RSS]</a></span></div>    </div>  </div>      <div id="category_category_3" style="line-height: 100%">    <div style="display:inline; background-image: url(&#39;images/tree/folder_gray/navi_back_noactive.gif&#39;)"><a class="click"><img src="./Embedded AJAX+CGI web UI solution - 嵌入式系統 - 愛做夢的蘆薈_files/tab_isleaf.gif" align="top" alt=""></a></div>    <div style="display:inline;" title="嵌入式系統相關文章">      <div id="text_3" style="padding-left:3px; cursor:pointer;display:inline; vertical-align:middle;"><a href="http://daydreamer.idv.tw/rewrite.php/category-2.html">嵌入式系統	  (27)</a> <span class="rss"><a href="http://daydreamer.idv.tw/rss.php?cateID=2">[RSS]</a></span></div>    </div>  </div>      <div id="category_category_4" style="line-height: 100%">    <div style="display:inline; background-image: url(&#39;images/tree/folder_gray/navi_back_noactive.gif&#39;)"><a class="click"><img src="./Embedded AJAX+CGI web UI solution - 嵌入式系統 - 愛做夢的蘆薈_files/tab_isleaf.gif" align="top" alt=""></a></div>    <div style="display:inline;" title="程式設計相關文章">      <div id="text_4" style="padding-left:3px; cursor:pointer;display:inline; vertical-align:middle;"><a href="http://daydreamer.idv.tw/rewrite.php/category-3.html">程式設計	  (24)</a> <span class="rss"><a href="http://daydreamer.idv.tw/rss.php?cateID=3">[RSS]</a></span></div>    </div>  </div>      <div id="category_category_5" style="line-height: 100%">    <div style="display:inline; background-image: url(&#39;images/tree/folder_gray/navi_back_noactive.gif&#39;)"><a class="click"><img src="./Embedded AJAX+CGI web UI solution - 嵌入式系統 - 愛做夢的蘆薈_files/tab_isleaf.gif" align="top" alt=""></a></div>    <div style="display:inline;" title="軟體使用相關說明">      <div id="text_5" style="padding-left:3px; cursor:pointer;display:inline; vertical-align:middle;"><a href="http://daydreamer.idv.tw/rewrite.php/category-4.html">軟體使用	  (8)</a> <span class="rss"><a href="http://daydreamer.idv.tw/rss.php?cateID=4">[RSS]</a></span></div>    </div>  </div>      <div id="category_category_6" style="line-height: 100%">    <div style="display:inline; background-image: url(&#39;images/tree/folder_gray/navi_back_noactive_end.gif&#39;)"><a class="click"><img src="./Embedded AJAX+CGI web UI solution - 嵌入式系統 - 愛做夢的蘆薈_files/tab_isleaf.gif" align="top" alt=""></a></div>    <div style="display:inline;" title="my travel logs">      <div id="text_6" style="padding-left:3px; cursor:pointer;display:inline; vertical-align:middle;"><a href="http://daydreamer.idv.tw/rewrite.php/category-6.html">旅遊	  (1)</a> <span class="rss"><a href="http://daydreamer.idv.tw/rss.php?cateID=6">[RSS]</a></span></div>    </div>  </div>    </div>	</div>   </div>   <div class="Pfoot"></div> </div> <!--熱門標籤--><div class="sidepanel" id="Side_HotTags">  <h4 class="Ptitle" style="cursor: pointer;" onclick="sidebarTools(&#39;content_HotTags&#39;)">熱門標籤</h4>  <div class="Pcontent" id="content_HotTags" style="display:">	<div class="HotTagsTable" id="HotTags_Body">	<a href="http://daydreamer.idv.tw/rewrite.php/tags-linux.html" style="color:#f60" title="網誌數量: 29">linux</a> 
	<a href="http://daydreamer.idv.tw/rewrite.php/tags-embedded.html" style="color:#069" title="網誌數量: 27">embedded</a> 
	<a href="http://daydreamer.idv.tw/rewrite.php/tags-%E5%BF%83%E7%90%86%E5%AD%B8.html" style="color:#09c" title="網誌數量: 5">心理學</a> 
	<a href="http://daydreamer.idv.tw/rewrite.php/tags-software.html" style="color:#09c" title="網誌數量: 4">software</a> 
	<a href="http://daydreamer.idv.tw/rewrite.php/tags-python.html" style="color:#999" title="網誌數量: 1">python</a> 
	<a href="http://daydreamer.idv.tw/rewrite.php/tags-%E9%81%8A%E8%A8%98.html" style="color:#999" title="網誌數量: 1">遊記</a> 
	</div>   </div>   <div class="Pfoot"></div> </div> <!--站內搜尋--><div class="sidepanel" id="Side_Plurk">  <h4 class="Ptitle" style="cursor: pointer;" onclick="sidebarTools(&#39;content_Plurk&#39;)">站內搜尋</h4>  <div class="Pcontent" id="content_Plurk" style="display:">	<div class="PlurkTable" id="Plurk_Body"><link href="./Embedded AJAX+CGI web UI solution - 嵌入式系統 - 愛做夢的蘆薈_files/gsearch.css" type="text/css" rel="stylesheet">
<script src="./Embedded AJAX+CGI web UI solution - 嵌入式系統 - 愛做夢的蘆薈_files/api" type="text/javascript">
</script><script src="./Embedded AJAX+CGI web UI solution - 嵌入式系統 - 愛做夢的蘆薈_files/default+zh_TW.I.js" type="text/javascript"></script>
<style type="text/css">
.gsc-control { width: 100px;}
.gsc-control { font-size: 13px; }
.gsc-search-box { font-size: 12px; }
.gsc-narrow .gsc-input { width: 100px; }
</style>
<div id="searchcontrol"><div class="gsc-control gsc-narrow" dir="ltr"><form class="gsc-search-box" accept-charset="utf-8"><table cellspacing="0" cellpadding="0" class="gsc-search-box"><tbody><tr><td class="gsc-input"><input autocomplete="off" type="text" size="10" class=" gsc-input" name="search" title="搜尋" id="gsc-i-id1" dir="ltr" spellcheck="false" style="outline: none;"></td><td class="gsc-search-button"><input type="button" value="搜尋" class="gsc-search-button" title="搜尋"></td><td class="gsc-clear-button"><div class="gsc-clear-button" title="清除結果">&nbsp;</div></td></tr></tbody></table><table cellspacing="0" cellpadding="0" class="gsc-branding"><tbody><tr style="display: none;"><td class="gsc-branding-user-defined"></td><td class="gsc-branding-text"><div class="gsc-branding-text">技術提供：</div></td><td class="gsc-branding-img"><img src="./Embedded AJAX+CGI web UI solution - 嵌入式系統 - 愛做夢的蘆薈_files/small-logo.png" class="gsc-branding-img"></td></tr></tbody></table></form><div class="gsc-results-wrapper-nooverlay"><div class="gsc-tabsAreaInvisible"><div class="gsc-tabHeader gsc-inline-block gsc-tabhActive">daydreamer</div><span class="gs-spacer"> </span></div><div class="gsc-above-wrapper-area-invisible"><table cellspacing="0" cellpadding="0" class="gsc-above-wrapper-area-container"><tbody><tr><td class="gsc-result-info-container"><div class="gsc-result-info-invisible"></div></td></tr></tbody></table></div><div class="gsc-resultsbox-invisible"><div class="gsc-resultsRoot gsc-tabData gsc-tabdActive"><table cellspacing="0" cellpadding="0" class="gsc-resultsHeader"><tbody><tr><td class="gsc-twiddleRegionCell"><div class="gsc-twiddle"><div class="gsc-title">daydreamer</div></div><div class="gsc-stats"></div><div class="gsc-results-selector gsc-more-results-active"><div class="gsc-result-selector gsc-one-result" title="顯示單一結果">&nbsp;</div><div class="gsc-result-selector gsc-more-results" title="顯示更多結果">&nbsp;</div><div class="gsc-result-selector gsc-all-results" title="顯示所有結果">&nbsp;</div></div></td><td class="gsc-configLabelCell"></td></tr></tbody></table><div><div class="gsc-expansionArea"></div></div></div></div></div></div></div>
<script type="text/javascript">

  var control=new GSearchControl();
  var site = new GwebSearch();
  site.setSiteRestriction("daydreamer.idv.tw");
  site.setUserDefinedLabel("daydreamer");
  control.addSearcher(site);
  var drawOptions = new GdrawOptions();
  drawOptions.setDrawMode(GSearchControl.DRAW_MODE_TABBED);
  control.draw (document.getElementById("searchcontrol"), drawOptions);
</script>	</div>   </div>   <div class="Pfoot"></div> </div> <!--最新網誌--><div class="sidepanel" id="Side_NewLogForPJBlog">  <h4 class="Ptitle" style="cursor: pointer;" onclick="sidebarTools(&#39;content_NewLogForPJBlog&#39;)">最新網誌</h4>  <div class="Pcontent" id="content_NewLogForPJBlog" style="display:">	<div class="NewLogForPJBlogTable" id="NewLogForPJBlog_Body">	<a class="sideA" id="NewLog_Link_69" title="Joey 於 2010-12-13 23:17 發表 目擊者二代安裝經驗分享" href="http://daydreamer.idv.tw/rewrite.php/read-69.html">目擊者二代安裝經驗分享</a> 
	<a class="sideA" id="NewLog_Link_68" title="Joey 於 2010-11-02 23:46 發表 吳品賢-紀念一位難忘的好友" href="http://daydreamer.idv.tw/rewrite.php/read-68.html">吳品賢-紀念一位難忘的好友</a> 
	<a class="sideA" id="NewLog_Link_67" title="Joey 於 2010-02-04 17:41 發表 Android on QT2410-自己搞自己" href="http://daydreamer.idv.tw/rewrite.php/read-67.html">Android on QT2410-自己搞自己</a> 
	<a class="sideA" id="NewLog_Link_66" title="Joey 於 2009-11-13 15:37 發表 Regular expression-跟brainfuck差不多的東西" href="http://daydreamer.idv.tw/rewrite.php/read-66.html">Regular expression-跟brainfuck差不多的東西</a> 
	<a class="sideA" id="NewLog_Link_65" title="Joey 於 2009-10-13 15:18 發表 Reading file in kernel-簡單但實用" href="http://daydreamer.idv.tw/rewrite.php/read-65.html">Reading file in kernel-簡單但實用</a> 
	<a class="sideA" id="NewLog_Link_64" title="Joey 於 2009-08-25 10:49 發表 ttysnoop-沒有螺絲起子的日子" href="http://daydreamer.idv.tw/rewrite.php/read-64.html">ttysnoop-沒有螺絲起子的日子</a> 
	<a class="sideA" id="NewLog_Link_63" title="Joey 於 2009-08-19 15:40 發表 Linux file system for dummies-只花你45分鐘" href="http://daydreamer.idv.tw/rewrite.php/read-63.html">Linux file system for dummies-只花你45分鐘</a> 
	<a class="sideA" id="NewLog_Link_62" title="Joey 於 2009-07-16 15:16 發表 OPENSSL-TCP SSL初心者之路" href="http://daydreamer.idv.tw/rewrite.php/read-62.html">OPENSSL-TCP SSL初心者之路</a> 
	<a class="sideA" id="NewLog_Link_61" title="Joey 於 2009-06-08 03:35 發表 Colasoft packet builder-這年頭什麼東西都有" href="http://daydreamer.idv.tw/rewrite.php/read-61.html">Colasoft packet builder-這年頭什麼東西都有</a> 
	<a class="sideA" id="NewLog_Link_60" title="Joey 於 2009-05-12 16:35 發表 fw_printenv-control u-boot enviroment variables under linux" href="http://daydreamer.idv.tw/rewrite.php/read-60.html">fw_printenv-control u-boot enviroment variables un</a> 
	</div>   </div>   <div class="Pfoot"></div> </div> <!--歸檔--><div class="sidepanel" id="Side_Archive">  <h4 class="Ptitle" style="cursor: pointer;" onclick="sidebarTools(&#39;content_Archive&#39;)">歸檔</h4>  <div class="Pcontent" id="content_Archive" style="display:">	<div class="ArchiveTable" id="Archive_Body">	<a class="sideA" id="Archive_Link_1" href="http://daydreamer.idv.tw/rewrite.php/archives-201012.html">2010 年 12 月 [1]</a> 	<a class="sideA" id="Archive_Link_2" href="http://daydreamer.idv.tw/rewrite.php/archives-201011.html">2010 年 11 月 [1]</a> 	<a class="sideA" id="Archive_Link_3" href="http://daydreamer.idv.tw/rewrite.php/archives-201002.html">2010 年 02 月 [1]</a> 	<a class="sideA" id="Archive_Link_4" href="http://daydreamer.idv.tw/rewrite.php/archives-200911.html">2009 年 11 月 [1]</a> 	<a class="sideA" id="Archive_Link_5" href="http://daydreamer.idv.tw/rewrite.php/archives-200910.html">2009 年 10 月 [1]</a> 	</div>   </div>   <div class="Pfoot"></div> </div> <!--最新評論--><div class="sidepanel" id="Side_Comment">  <h4 class="Ptitle" style="cursor: pointer;" onclick="sidebarTools(&#39;content_Comment&#39;)">最新評論</h4>  <div class="Pcontent" id="content_Comment" style="display:">	<div class="CommentTable" id="Comment_Body">	<a class="sideA" id="comments_Link_833" title="Matthew 於 2014-03-27 04:44 發表評論 Some links: [url=http://irving.pluto.ro/ambien/wholesale-depot.html]wholesale depot[/url] about [i]wholesale depot[/i]. [url=http://digilander.libero.it/dux1967/fioricet/fioricet-ontario.html]fioricet ontario[/url] about [i]fioricet ontario[/i]. [url=http://majos.alotspace.com/terbinafine/bloomington-terbinafine.html]bloomington terbinafine site[/url] about [i]bloomington terbinafine[/i]." href="http://daydreamer.idv.tw/rewrite.php/read-40.html#book833">Some links: </a> 	<a class="sideA" id="comments_Link_832" title="Gianna 於 2014-03-12 20:05 發表評論 Some links: [url=http://perso.wanadoo.es/merlin23/cialis/where-to-get-cialis.html]cialis[/url] about [i]where to get cialis[/i]. [url=http://zalon.host.sk/tramadol-hcl/tramadol-hcl-discount.html]tramadol hcl discount[/url] about [i]tramadol hcl discount[/i]. [url=http://digilander.libero.it/gabrielemail2006/adderall/elgin-adderall.html]elgin adderall[/url] about [i]elgin adderall[/i]." href="http://daydreamer.idv.tw/rewrite.php/read-12.html#book832">Some links: </a> 	<a class="sideA" id="comments_Link_831" title="Belle 於 2014-03-12 20:02 發表評論 Some links: [url=http://vercey.altervista.org/didrex/didrex-or-benzphetamine.html]didrex[/url] about [i]didrex or benzphetamine[/i]. [url=http://zalon.host.sk/cabergoline/cabergoline-pregnancy.html]cabergoline pregnancy[/url] about [i]cabergoline pregnancy[/i]. [url=http://denne.altervista.org/tamsulosin/pygeum-africanum.html]pygeum africanum site[/url] about [i]pygeum africanum[/i]." href="http://daydreamer.idv.tw/rewrite.php/read-40.html#book831">Some links: </a> 	<a class="sideA" id="comments_Link_830" title="Nicklaus 於 2014-03-10 05:26 發表評論 Some links: [url=http://fius.host.sk/zolpidem/sleep-disorders.html]sleep disorders[/url] about [i]sleep disorders[/i]. [url=http://digilander.libero.it/KATIA_87K/alprazolam/alprazolam-interactions.html]alprazolam interactions site[/url] about [i]alprazolam interactions[/i]. [url=http://digilander.libero.it/bodycount29/phentermine/prescription-drugs-phentermine.html]phentermine[/url] about [i]prescription drugs phentermine[/i]." href="http://daydreamer.idv.tw/rewrite.php/read-40.html#book830">Some links: </a> 	<a class="sideA" id="comments_Link_829" title="Denise 於 2014-03-10 05:26 發表評論 Some links: [url=http://bide.2trom.com/bactroban/bactroban-or-polysporin.html]bactroban or polysporin[/url] about [i]bactroban or polysporin[/i]. [url=http://buzj.batcave.net/omeprazole/buy-omeprazole-20-mg.html]buy omeprazole 20 mg[/url] about [i]buy omeprazole 20 mg[/i]. [url=http://digilander.libero.it/AntiJuve93/canadian-pharmacy/buy-canadian-pharmacy-com.html]buy canadian pharmacy com[/url] about [i]buy canadian pharmacy com[/i]." href="http://daydreamer.idv.tw/rewrite.php/read-12.html#book829">Some links: </a> 	<a class="sideA" id="comments_Link_828" title="Rose 於 2014-02-24 15:23 發表評論 Some links: [url=http://www.galeon.com/ens2/famvir/decatur-famvir.html]famvir[/url] about [i]decatur famvir[/i]. [url=http://perso.wanadoo.es/drclimax/tadalafil/buy-tadalafil-20mg-price.html]tadalafil[/url] about [i]buy tadalafil 20mg price[/i]. [url=http://maxen.9k.com/xanax/h-2-blockers.html]h 2 blockers[/url] about [i]h 2 blockers[/i]." href="http://daydreamer.idv.tw/rewrite.php/read-12.html#book828">Some links: </a> 	<a class="sideA" id="comments_Link_827" title="Rodolfo 於 2014-02-24 15:21 發表評論 Some links: [url=http://rozmarija.host.sk/www/provigil/is-it-safe.html]is it safe[/url] about [i]is it safe[/i]. [url=http://daliet.host.sk/percodan/percodan-from-china.html]percodan from china[/url] about [i]percodan from china[/i]. [url=http://steure.dzaba.com/kamagra-oral-jelly/carolina-kamagra-oral-jelly.html]carolina kamagra oral jelly site[/url] about [i]carolina kamagra oral jelly[/i]." href="http://daydreamer.idv.tw/rewrite.php/read-40.html#book827">Some links: </a> 	<a class="sideA" id="comments_Link_826" title="666 於 2014-02-18 18:55 發表評論 hello" href="http://daydreamer.idv.tw/rewrite.php/read-68.html#book826">hello</a> 	<a class="sideA" id="comments_Link_825" title="Joey 於 2014-02-15 11:38 發表評論 你的file system 都還沒掛載,讀檔案一定會有問題你可以把driver build成module,掛完file system後再掛module" href="http://daydreamer.idv.tw/rewrite.php/read-65.html#book825">你的file syste</a> 	<a class="sideA" id="comments_Link_811" title="安安 於 2013-11-20 14:20 發表評論 該內容只有管理員可見" href="http://daydreamer.idv.tw/rewrite.php/read-65.html#book811">該內容只有管理員可見</a> 	</div>   </div>   <div class="Pfoot"></div> </div> <!--最新留言--><div class="sidepanel" id="Side_GuestBookForPJBlogSubItem1">  <h4 class="Ptitle" style="cursor: pointer;" onclick="sidebarTools(&#39;content_GuestBookForPJBlogSubItem1&#39;)">最新留言</h4>  <div class="Pcontent" id="content_GuestBookForPJBlogSubItem1" style="display:">	<div class="GuestBookForPJBlogSubItem1Table" id="GuestBookForPJBlogSubItem1_Body">	<a class="sideA" id="GuestBook_Link179" title="Joey 於 2012-11-13 18:48 發表留言 no problem..." href="http://daydreamer.idv.tw/rewrite.php/guestbook.html#book179">no problem..</a> 	<a class="sideA" id="GuestBook_Link178" title="Matt 於 2012-11-02 10:58 發表留言 該內容只有管理員可見" href="http://daydreamer.idv.tw/rewrite.php/guestbook.html#book178">該內容只有管理員可見</a> 	<a class="sideA" id="GuestBook_Link177" title="Matt 於 2012-11-02 10:55 發表留言 該內容只有管理員可見" href="http://daydreamer.idv.tw/rewrite.php/guestbook.html#book177">該內容只有管理員可見</a> 	<a class="sideA" id="GuestBook_Link176" title="Joey 於 2011-08-02 21:43 發表留言 Could you add some debug messages in your kernel module? You must ensure that your kernel module really sends out the netlink packet....I have done the testing on 2.6.2x." href="http://daydreamer.idv.tw/rewrite.php/guestbook.html#book176">Could you ad</a> 	<a class="sideA" id="GuestBook_Link175" title="Cindy 於 2011-07-29 23:31 發表留言 大大您好，想請問一些有關Netlink的問題!!有關您這篇文章: http://daydreamer.idv.tw/rewrite.php/read-47.html請問您此程式是在Linux kernel的版本為何的情況下測試的?另外就是您給的unicast的code的執行順序為何?(是否先將kudp.ko insmod後再去執行user?)如果是按照上面的順序~我在Linux 2.6.38情況下測，先把kudp.ko insmod後再執行user(要用./user還是./user&amp;)但結果是./user後畫面就停在&quot;Waiting for message from kernel&quot;，之後就不動了!等很久結果還是一樣!!想請問這是什麼情況呢?謝謝!" href="http://daydreamer.idv.tw/rewrite.php/guestbook.html#book175">大大您好，想請問一些有關</a> 	<a class="sideA" id="GuestBook_Link173" title="Leo 於 2010-11-08 09:27 發表留言 JOEY大大你好那我想再進一步詢問要將PJSIP應用在realtek所出的晶片RTL-8954C這樣在實作上的難度大概又是為何?小弟的公司近日想要研究這方面的領域想知道是不是有人有興趣願意幫忙如果JOEY大大有興趣的話還煩請再跟我說一聲打擾您了  真的非常感謝您願意回覆我的問題" href="http://daydreamer.idv.tw/rewrite.php/guestbook.html#book173">JOEY大大你好那我</a> 	<a class="sideA" id="GuestBook_Link172" title="Joey 於 2010-11-06 23:08 發表留言 PJSIP的難度應該跟用那顆DSP無關,它的難度會落在客戶要求的call feature是否能用其API實作出來~~" href="http://daydreamer.idv.tw/rewrite.php/guestbook.html#book172">PJSIP的難度應該跟用</a> 	<a class="sideA" id="GuestBook_Link171" title="Leo 於 2010-11-05 11:59 發表留言 大大不好意思  我想請問如何有關把PJSIP嵌入DSP上因為我沒有這方面的經驗跟背景不知道難度對新手大概在哪邊那又如果外包的話價位又大概在哪邊?想請教大大一下不好意思 打擾了" href="http://daydreamer.idv.tw/rewrite.php/guestbook.html#book171">大大不好意思  我想</a> 	<a class="sideA" id="GuestBook_Link170" title="Joey 於 2010-10-25 16:42 發表留言 Please try to google &quot;kernel command line&quot; or &quot;kernel boot argument&quot;. You can define your root file system type and location for your file system there." href="http://daydreamer.idv.tw/rewrite.php/guestbook.html#book170">Please try t</a> 	<a class="sideA" id="GuestBook_Link169" title="martin 於 2010-10-22 17:59 發表留言 你好如果要建立 root file 系統 一般是使用busybox 可是如果要從u-boot載入kernel 後要載入，root file 是不是要在kernel程式某處指引root file 來源不然kernel開到完都會出現Kernel panic - not syncing: VFS: Unable to mount root fs on unknown-block(1,0)我有試過jffs2 yaffs 都會這個問題，我也上網找過google 發現有說明到 kernel 讀root file 的真的找不太到，一般都是說明如何建一個root fs 和使用jffs2 yaffs 去包裝成一個檔案，對於kernel 要如何才能正確讀入 root fs的文件不是是我關鍵字用得不對，還是有別的問題，懇請你這裡知道的話，可以和我說明一下嗎?謝謝" href="http://daydreamer.idv.tw/rewrite.php/guestbook.html#book169">你好如果要建立 </a> 	</div>   </div>   <div class="Pfoot"></div> </div> <!--統計--><div class="sidepanel" id="Side_BlogInfo">  <h4 class="Ptitle" style="cursor: pointer;" onclick="sidebarTools(&#39;content_BlogInfo&#39;)">統計</h4>  <div class="Pcontent" id="content_BlogInfo" style="display:">	<div class="BlogInfoTable" id="BlogInfo_Body">今日訪問: 60<br>
昨日訪問: 122<br>
總訪問量: 505678<br>
在線人數: 6<br>
日誌數量: 62	</div>   </div>   <div class="Pfoot"></div> </div> <!--我的信箱--><div class="sidepanel" id="Side_MCSE">  <h4 class="Ptitle" style="cursor: pointer;" onclick="sidebarTools(&#39;content_MCSE&#39;)">我的信箱</h4>  <div class="Pcontent" id="content_MCSE" style="display:">	<div class="MCSETable" id="MCSE_Body"><img src="./Embedded AJAX+CGI web UI solution - 嵌入式系統 - 愛做夢的蘆薈_files/emaillogo.png">	</div>   </div>   <div class="Pfoot"></div> </div> <!--授權條款--><div class="sidepanel" id="Side_Buboo">  <h4 class="Ptitle" style="cursor: pointer;" onclick="sidebarTools(&#39;content_Buboo&#39;)">授權條款</h4>  <div class="Pcontent" id="content_Buboo" style="display:">	<div class="BubooTable" id="Buboo_Body"><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/2.5/tw/"><img alt="Creative Commons License" style="border-width:0" src="./Embedded AJAX+CGI web UI solution - 嵌入式系統 - 愛做夢的蘆薈_files/88x31.png"></a><br>本 <span xmlns:dc="http://purl.org/dc/elements/1.1/" href="http://purl.org/dc/dcmitype/Text" rel="dc:type">著作</span> 係採用<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/2.5/tw/">創用 CC 姓名標示-非商業性-相同方式分享 2.5 台灣 授權條款</a>授權.	</div>   </div>   <div class="Pfoot"></div> </div>         <div id="sidebar-bottomimg"></div>
      </div>
    </div>
    <div style="clear: both;height:1px;overflow:hidden;margin-top:-1px;"></div>
  </div>
  <!--底部-->
  <div id="foot">
    <p>
		<strong><a href="mailto:jemicheng@gmail.com">Joey</a></strong> 's blog
		Powered By <a href="http://www.f2blog.com/" target="_blank"><strong>F2blog v1.2 build 03.01</strong></a>
		CopyRight 2006  - 2014		<a href="http://validator.w3.org/check/referer" target="_blank">XHTML</a> |
		<a href="http://jigsaw.w3.org/css-validator/validator-uri.html" target="_blank">CSS</a> |
		<a href="http://daydreamer.idv.tw/archives/index.php" target="_blank">Archiver</a>
	</p>
    <p style="font-size:11px;">
		<a href="http://www.8gov.com/blog/" target="_blank"><strong>Google Style</strong></a>
		Design by <a href="mailto:info@8gov.com">8gov</a> Skin from pjblog		    </p>
  </div>
</div><table cellspacing="0" cellpadding="0" class="gstl_50 gssb_c" style="width: 34px; display: none; top: 429px; left: 734px; position: absolute;"><tbody><tr><td class="gssb_f"></td><td class="gssb_e" style="width: 100%;"></td></tr></tbody></table>


</body></html>